(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Xc={exports:{}},Wo={},Yc={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function b_(){if(Ap)return Ie;Ap=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),V=Symbol.iterator;function M(N){return N===null||typeof N!="object"?null:(N=V&&N[V]||N["@@iterator"],typeof N=="function"?N:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Y={};function H(N,j,ae){this.props=N,this.context=j,this.refs=Y,this.updater=ae||z}H.prototype.isReactComponent={},H.prototype.setState=function(N,j){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,j,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ve(){}ve.prototype=H.prototype;function ee(N,j,ae){this.props=N,this.context=j,this.refs=Y,this.updater=ae||z}var fe=ee.prototype=new ve;fe.constructor=ee,G(fe,H.prototype),fe.isPureReactComponent=!0;var Ee=Array.isArray,je=Object.prototype.hasOwnProperty,_e={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(N,j,ae){var we,Te={},Ce=null,xe=null;if(j!=null)for(we in j.ref!==void 0&&(xe=j.ref),j.key!==void 0&&(Ce=""+j.key),j)je.call(j,we)&&!k.hasOwnProperty(we)&&(Te[we]=j[we]);var Le=arguments.length-2;if(Le===1)Te.children=ae;else if(1<Le){for(var be=Array(Le),pt=0;pt<Le;pt++)be[pt]=arguments[pt+2];Te.children=be}if(N&&N.defaultProps)for(we in Le=N.defaultProps,Le)Te[we]===void 0&&(Te[we]=Le[we]);return{$$typeof:i,type:N,key:Ce,ref:xe,props:Te,_owner:_e.current}}function A(N,j){return{$$typeof:i,type:N.type,key:j,ref:N.ref,props:N.props,_owner:N._owner}}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function D(N){var j={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return j[ae]})}var x=/\/+/g;function S(N,j){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):j.toString(36)}function Ze(N,j,ae,we,Te){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var xe=!1;if(N===null)xe=!0;else switch(Ce){case"string":case"number":xe=!0;break;case"object":switch(N.$$typeof){case i:case e:xe=!0}}if(xe)return xe=N,Te=Te(xe),N=we===""?"."+S(xe,0):we,Ee(Te)?(ae="",N!=null&&(ae=N.replace(x,"$&/")+"/"),Ze(Te,j,ae,"",function(pt){return pt})):Te!=null&&(P(Te)&&(Te=A(Te,ae+(!Te.key||xe&&xe.key===Te.key?"":(""+Te.key).replace(x,"$&/")+"/")+N)),j.push(Te)),1;if(xe=0,we=we===""?".":we+":",Ee(N))for(var Le=0;Le<N.length;Le++){Ce=N[Le];var be=we+S(Ce,Le);xe+=Ze(Ce,j,ae,be,Te)}else if(be=M(N),typeof be=="function")for(N=be.call(N),Le=0;!(Ce=N.next()).done;)Ce=Ce.value,be=we+S(Ce,Le++),xe+=Ze(Ce,j,ae,be,Te);else if(Ce==="object")throw j=String(N),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return xe}function Ct(N,j,ae){if(N==null)return N;var we=[],Te=0;return Ze(N,we,"","",function(Ce){return j.call(ae,Ce,Te++)}),we}function Pt(N){if(N._status===-1){var j=N._result;j=j(),j.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=j)}if(N._status===1)return N._result.default;throw N._result}var Fe={current:null},J={transition:null},ue={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:J,ReactCurrentOwner:_e};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:Ct,forEach:function(N,j,ae){Ct(N,function(){j.apply(this,arguments)},ae)},count:function(N){var j=0;return Ct(N,function(){j++}),j},toArray:function(N){return Ct(N,function(j){return j})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ie.Component=H,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=ee,Ie.StrictMode=s,Ie.Suspense=y,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ie.act=te,Ie.cloneElement=function(N,j,ae){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var we=G({},N.props),Te=N.key,Ce=N.ref,xe=N._owner;if(j!=null){if(j.ref!==void 0&&(Ce=j.ref,xe=_e.current),j.key!==void 0&&(Te=""+j.key),N.type&&N.type.defaultProps)var Le=N.type.defaultProps;for(be in j)je.call(j,be)&&!k.hasOwnProperty(be)&&(we[be]=j[be]===void 0&&Le!==void 0?Le[be]:j[be])}var be=arguments.length-2;if(be===1)we.children=ae;else if(1<be){Le=Array(be);for(var pt=0;pt<be;pt++)Le[pt]=arguments[pt+2];we.children=Le}return{$$typeof:i,type:N.type,key:Te,ref:Ce,props:we,_owner:xe}},Ie.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},Ie.createElement=I,Ie.createFactory=function(N){var j=I.bind(null,N);return j.type=N,j},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(N){return{$$typeof:m,render:N}},Ie.isValidElement=P,Ie.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:Pt}},Ie.memo=function(N,j){return{$$typeof:v,type:N,compare:j===void 0?null:j}},Ie.startTransition=function(N){var j=J.transition;J.transition={};try{N()}finally{J.transition=j}},Ie.unstable_act=te,Ie.useCallback=function(N,j){return Fe.current.useCallback(N,j)},Ie.useContext=function(N){return Fe.current.useContext(N)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(N){return Fe.current.useDeferredValue(N)},Ie.useEffect=function(N,j){return Fe.current.useEffect(N,j)},Ie.useId=function(){return Fe.current.useId()},Ie.useImperativeHandle=function(N,j,ae){return Fe.current.useImperativeHandle(N,j,ae)},Ie.useInsertionEffect=function(N,j){return Fe.current.useInsertionEffect(N,j)},Ie.useLayoutEffect=function(N,j){return Fe.current.useLayoutEffect(N,j)},Ie.useMemo=function(N,j){return Fe.current.useMemo(N,j)},Ie.useReducer=function(N,j,ae){return Fe.current.useReducer(N,j,ae)},Ie.useRef=function(N){return Fe.current.useRef(N)},Ie.useState=function(N){return Fe.current.useState(N)},Ie.useSyncExternalStore=function(N,j,ae){return Fe.current.useSyncExternalStore(N,j,ae)},Ie.useTransition=function(){return Fe.current.useTransition()},Ie.version="18.3.1",Ie}var Rp;function Lh(){return Rp||(Rp=1,Yc.exports=b_()),Yc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function z_(){if(Cp)return Wo;Cp=1;var i=Lh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(m,y,v){var T,V={},M=null,z=null;v!==void 0&&(M=""+v),y.key!==void 0&&(M=""+y.key),y.ref!==void 0&&(z=y.ref);for(T in y)s.call(y,T)&&!c.hasOwnProperty(T)&&(V[T]=y[T]);if(m&&m.defaultProps)for(T in y=m.defaultProps,y)V[T]===void 0&&(V[T]=y[T]);return{$$typeof:e,type:m,key:M,ref:z,props:V,_owner:a.current}}return Wo.Fragment=n,Wo.jsx=d,Wo.jsxs=d,Wo}var Pp;function B_(){return Pp||(Pp=1,Xc.exports=z_()),Xc.exports}var Ke=B_(),mr=Lh(),kl={},Jc={exports:{}},Kt={},Zc={exports:{}},eh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function j_(){return kp||(kp=1,function(i){function e(J,ue){var te=J.length;J.push(ue);e:for(;0<te;){var N=te-1>>>1,j=J[N];if(0<a(j,ue))J[N]=ue,J[te]=j,te=N;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ue=J[0],te=J.pop();if(te!==ue){J[0]=te;e:for(var N=0,j=J.length,ae=j>>>1;N<ae;){var we=2*(N+1)-1,Te=J[we],Ce=we+1,xe=J[Ce];if(0>a(Te,te))Ce<j&&0>a(xe,Te)?(J[N]=xe,J[Ce]=te,N=Ce):(J[N]=Te,J[we]=te,N=we);else if(Ce<j&&0>a(xe,te))J[N]=xe,J[Ce]=te,N=Ce;else break e}}return ue}function a(J,ue){var te=J.sortIndex-ue.sortIndex;return te!==0?te:J.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var y=[],v=[],T=1,V=null,M=3,z=!1,G=!1,Y=!1,H=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function fe(J){for(var ue=n(v);ue!==null;){if(ue.callback===null)s(v);else if(ue.startTime<=J)s(v),ue.sortIndex=ue.expirationTime,e(y,ue);else break;ue=n(v)}}function Ee(J){if(Y=!1,fe(J),!G)if(n(y)!==null)G=!0,Pt(je);else{var ue=n(v);ue!==null&&Fe(Ee,ue.startTime-J)}}function je(J,ue){G=!1,Y&&(Y=!1,ve(I),I=-1),z=!0;var te=M;try{for(fe(ue),V=n(y);V!==null&&(!(V.expirationTime>ue)||J&&!D());){var N=V.callback;if(typeof N=="function"){V.callback=null,M=V.priorityLevel;var j=N(V.expirationTime<=ue);ue=i.unstable_now(),typeof j=="function"?V.callback=j:V===n(y)&&s(y),fe(ue)}else s(y);V=n(y)}if(V!==null)var ae=!0;else{var we=n(v);we!==null&&Fe(Ee,we.startTime-ue),ae=!1}return ae}finally{V=null,M=te,z=!1}}var _e=!1,k=null,I=-1,A=5,P=-1;function D(){return!(i.unstable_now()-P<A)}function x(){if(k!==null){var J=i.unstable_now();P=J;var ue=!0;try{ue=k(!0,J)}finally{ue?S():(_e=!1,k=null)}}else _e=!1}var S;if(typeof ee=="function")S=function(){ee(x)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Ct=Ze.port2;Ze.port1.onmessage=x,S=function(){Ct.postMessage(null)}}else S=function(){H(x,0)};function Pt(J){k=J,_e||(_e=!0,S())}function Fe(J,ue){I=H(function(){J(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){G||z||(G=!0,Pt(je))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return M},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(J){switch(M){case 1:case 2:case 3:var ue=3;break;default:ue=M}var te=M;M=ue;try{return J()}finally{M=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var te=M;M=J;try{return ue()}finally{M=te}},i.unstable_scheduleCallback=function(J,ue,te){var N=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?N+te:N):te=N,J){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=te+j,J={id:T++,callback:ue,priorityLevel:J,startTime:te,expirationTime:j,sortIndex:-1},te>N?(J.sortIndex=te,e(v,J),n(y)===null&&J===n(v)&&(Y?(ve(I),I=-1):Y=!0,Fe(Ee,te-N))):(J.sortIndex=j,e(y,J),G||z||(G=!0,Pt(je))),J},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(J){var ue=M;return function(){var te=M;M=ue;try{return J.apply(this,arguments)}finally{M=te}}}}(eh)),eh}var Vp;function $_(){return Vp||(Vp=1,Zc.exports=j_()),Zc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function q_(){if(Dp)return Kt;Dp=1;var i=Lh(),e=$_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},V={};function M(t){return y.call(V,t)?!0:y.call(T,t)?!1:v.test(t)?V[t]=!0:(T[t]=!0,!1)}function z(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G(t,r,o,u){if(r===null||typeof r>"u"||z(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Y(t,r,o,u,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){H[t]=new Y(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];H[r]=new Y(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){H[t]=new Y(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){H[t]=new Y(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){H[t]=new Y(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){H[t]=new Y(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){H[t]=new Y(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){H[t]=new Y(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){H[t]=new Y(t,5,!1,t.toLowerCase(),null,!1,!1)});var ve=/[\-:]([a-z])/g;function ee(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ve,ee);H[r]=new Y(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ve,ee);H[r]=new Y(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ve,ee);H[r]=new Y(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){H[t]=new Y(t,1,!1,t.toLowerCase(),null,!1,!1)}),H.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){H[t]=new Y(t,1,!1,t.toLowerCase(),null,!0,!0)});function fe(t,r,o,u){var h=H.hasOwnProperty(r)?H[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(G(r,o,h,u)&&(o=null),u||h===null?M(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Ee=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,je=Symbol.for("react.element"),_e=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),J=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,N;function j(t){if(N===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);N=r&&r[1]||""}return`
`+N+t}var ae=!1;function we(t,r){if(!t||ae)return"";ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(t,[],r)}else{try{r.call()}catch(U){u=U}t.call(r.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=u.stack.split(`
`),_=h.length-1,w=p.length-1;1<=_&&0<=w&&h[_]!==p[w];)w--;for(;1<=_&&0<=w;_--,w--)if(h[_]!==p[w]){if(_!==1||w!==1)do if(_--,w--,0>w||h[_]!==p[w]){var R=`
`+h[_].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=_&&0<=w);break}}}finally{ae=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?j(t):""}function Te(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=we(t.type,!1),t;case 11:return t=we(t.type.render,!1),t;case 1:return t=we(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case _e:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case x:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ct:return r=t.displayName||null,r!==null?r:Ce(t.type)||"Memo";case Pt:r=t._payload,t=t._init;try{return Ce(t(r))}catch{}}return null}function xe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Le(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pt(t){var r=be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Yn(t){t._valueTracker||(t._valueTracker=pt(t))}function $i(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Er(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function si(t,r){var o=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function qi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Le(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ys(t,r){r=r.checked,r!=null&&fe(t,"checked",r,!1)}function Js(t,r){Ys(t,r);var o=Le(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Hi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Hi(t,r.type,Le(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function pa(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Hi(t,r,o){(r!=="number"||Er(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Jn=Array.isArray;function Zn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Le(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Zs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Jn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Le(o)}}function Ki(t,r){var o=Le(r.value),u=Le(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function eo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ot(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var er,to=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=er.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function wr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ai=["Webkit","ms","Moz","O"];Object.keys(oi).forEach(function(t){ai.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),oi[r]=oi[t]})});function no(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||oi.hasOwnProperty(t)&&oi[t]?(""+r).trim():r+"px"}function ro(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=no(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var io=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(t,r){if(r){if(io[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function oo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var li=null;function Qi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gi=null,an=null,Ln=null;function Xi(t){if(t=Do(t)){if(typeof Gi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=qa(r),Gi(t.stateNode,t.type,r))}}function On(t){an?Ln?Ln.push(t):Ln=[t]:an=t}function ao(){if(an){var t=an,r=Ln;if(Ln=an=null,Xi(t),r)for(t=0;t<r.length;t++)Xi(r[t])}}function ui(t,r){return t(r)}function lo(){}var tr=!1;function uo(t,r,o){if(tr)return t(r,o);tr=!0;try{return ui(t,r,o)}finally{tr=!1,(an!==null||Ln!==null)&&(lo(),ao())}}function et(t,r){var o=t.stateNode;if(o===null)return null;var u=qa(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Yi=!1;if(m)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Yi=!1}function ci(t,r,o,u,h,p,_,w,R){var U=Array.prototype.slice.call(arguments,3);try{r.apply(o,U)}catch(q){this.onError(q)}}var hi=!1,Ji=null,vn=!1,co=null,Su={onError:function(t){hi=!0,Ji=t}};function Zi(t,r,o,u,h,p,_,w,R){hi=!1,Ji=null,ci.apply(Su,arguments)}function ma(t,r,o,u,h,p,_,w,R){if(Zi.apply(this,arguments),hi){if(hi){var U=Ji;hi=!1,Ji=null}else throw Error(n(198));vn||(vn=!0,co=U)}}function En(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function di(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function wn(t){if(En(t)!==t)throw Error(n(188))}function ga(t){var r=t.alternate;if(!r){if(r=En(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return wn(h),t;if(p===u)return wn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var _=!1,w=h.child;w;){if(w===o){_=!0,o=h,u=p;break}if(w===u){_=!0,u=h,o=p;break}w=w.sibling}if(!_){for(w=p.child;w;){if(w===o){_=!0,o=p,u=h;break}if(w===u){_=!0,u=p,o=h;break}w=w.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ho(t){return t=ga(t),t!==null?es(t):null}function es(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=es(t);if(r!==null)return r;t=t.sibling}return null}var ts=e.unstable_scheduleCallback,fo=e.unstable_cancelCallback,ya=e.unstable_shouldYield,Au=e.unstable_requestPaint,ze=e.unstable_now,_a=e.unstable_getCurrentPriorityLevel,fi=e.unstable_ImmediatePriority,Tr=e.unstable_UserBlockingPriority,ln=e.unstable_NormalPriority,po=e.unstable_LowPriority,va=e.unstable_IdlePriority,pi=null,Yt=null;function Ea(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(pi,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:Ta,mo=Math.log,wa=Math.LN2;function Ta(t){return t>>>=0,t===0?32:31-(mo(t)/wa|0)|0}var ns=64,rs=4194304;function Ir(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var w=_&~h;w!==0?u=Ir(w):(p&=_,p!==0&&(u=Ir(p)))}else _=o&~h,_!==0?u=Ir(_):p!==0&&(u=Ir(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Mt(r),h=1<<o,u|=t[o],r&=~h;return u}function Ru(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Mt(p),w=1<<_,R=h[_];R===-1?(!(w&o)||w&u)&&(h[_]=Ru(w,r)):R<=r&&(t.expiredLanes|=w),p&=~w}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gi(){var t=ns;return ns<<=1,!(ns&4194240)&&(ns=64),t}function Sr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ar(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Mt(r),t[r]=o}function Ue(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Mt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Rr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Mt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ae=0;function Cr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ia,is,Sa,Aa,Ra,go=!1,Mn=[],Et=null,Tn=null,In=null,Pr=new Map,un=new Map,Fn=[],Cu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ca(t,r){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Pr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":un.delete(r.pointerId)}}function zt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Do(r),r!==null&&is(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Pu(t,r,o,u,h){switch(r){case"focusin":return Et=zt(Et,t,r,o,u,h),!0;case"dragenter":return Tn=zt(Tn,t,r,o,u,h),!0;case"mouseover":return In=zt(In,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Pr.set(p,zt(Pr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,un.set(p,zt(un.get(p)||null,t,r,o,u,h)),!0}return!1}function Pa(t){var r=wi(t.target);if(r!==null){var o=En(r);if(o!==null){if(r=o.tag,r===13){if(r=di(o),r!==null){t.blockedOn=r,Ra(t.priority,function(){Sa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ss(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);li=u,o.target.dispatchEvent(u),li=null}else return r=Do(o),r!==null&&is(r),t.blockedOn=o,!1;r.shift()}return!0}function yi(t,r,o){rr(t)&&o.delete(r)}function ka(){go=!1,Et!==null&&rr(Et)&&(Et=null),Tn!==null&&rr(Tn)&&(Tn=null),In!==null&&rr(In)&&(In=null),Pr.forEach(yi),un.forEach(yi)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,go||(go=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ka)))}function An(t){function r(h){return Sn(h,t)}if(0<Mn.length){Sn(Mn[0],t);for(var o=1;o<Mn.length;o++){var u=Mn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Et!==null&&Sn(Et,t),Tn!==null&&Sn(Tn,t),In!==null&&Sn(In,t),Pr.forEach(r),un.forEach(r),o=0;o<Fn.length;o++)u=Fn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Fn.length&&(o=Fn[0],o.blockedOn===null);)Pa(o),o.blockedOn===null&&Fn.shift()}var ir=Ee.ReactCurrentBatchConfig,kr=!0;function He(t,r,o,u){var h=Ae,p=ir.transition;ir.transition=null;try{Ae=1,yo(t,r,o,u)}finally{Ae=h,ir.transition=p}}function ku(t,r,o,u){var h=Ae,p=ir.transition;ir.transition=null;try{Ae=4,yo(t,r,o,u)}finally{Ae=h,ir.transition=p}}function yo(t,r,o,u){if(kr){var h=ss(t,r,o,u);if(h===null)zu(t,r,u,_i,o),Ca(t,u);else if(Pu(h,t,r,o,u))u.stopPropagation();else if(Ca(t,u),r&4&&-1<Cu.indexOf(t)){for(;h!==null;){var p=Do(h);if(p!==null&&Ia(p),p=ss(t,r,o,u),p===null&&zu(t,r,u,_i,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else zu(t,r,u,null,o)}}var _i=null;function ss(t,r,o,u){if(_i=null,t=Qi(u),t=wi(t),t!==null)if(r=En(t),r===null)t=null;else if(o=r.tag,o===13){if(t=di(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return _i=t,null}function _o(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_a()){case fi:return 1;case Tr:return 4;case ln:case po:return 16;case va:return 536870912;default:return 16}default:return 16}}var Zt=null,os=null,Bt=null;function vo(){if(Bt)return Bt;var t,r=os,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[p-u];u++);return Bt=h.slice(t,1<u?1-u:void 0)}function as(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Un(){return!0}function Eo(){return!1}function wt(t){function r(o,u,h,p,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Un:Eo,this.isPropagationStopped=Eo,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){},isPersistent:Un}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=wt(Rn),bn=te({},Rn,{view:0,detail:0}),Vu=wt(bn),us,sr,Vr,vi=te({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(us=t.screenX-Vr.screenX,sr=t.screenY-Vr.screenY):sr=us=0,Vr=t),us)},movementY:function(t){return"movementY"in t?t.movementY:sr}}),cs=wt(vi),wo=te({},vi,{dataTransfer:0}),Va=wt(wo),hs=te({},bn,{relatedTarget:0}),ds=wt(hs),Da=te({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),or=wt(Da),Na=te({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xa=wt(Na),La=te({},Rn,{data:0}),To=wt(La),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ma(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Oa[t])?!!r[t]:!1}function zn(){return Ma}var l=te({},bn,{key:function(t){if(t.key){var r=fs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=as(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ft[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(t){return t.type==="keypress"?as(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?as(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=wt(l),g=te({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=wt(g),L=te({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),b=wt(L),X=te({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Me=wt(X),lt=te({},vi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=wt(lt),mt=[9,13,27,32],rt=m&&"CompositionEvent"in window,cn=null;m&&"documentMode"in document&&(cn=document.documentMode);var en=m&&"TextEvent"in window&&!cn,Ei=m&&(!rt||cn&&8<cn&&11>=cn),ps=" ",_d=!1;function vd(t,r){switch(t){case"keyup":return mt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ms=!1;function Fy(t,r){switch(t){case"compositionend":return Ed(r);case"keypress":return r.which!==32?null:(_d=!0,ps);case"textInput":return t=r.data,t===ps&&_d?null:t;default:return null}}function Uy(t,r){if(ms)return t==="compositionend"||!rt&&vd(t,r)?(t=vo(),Bt=os=Zt=null,ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ei&&r.locale!=="ko"?null:r.data;default:return null}}var by={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!by[t.type]:r==="textarea"}function Td(t,r,o,u){On(u),r=Ba(r,"onChange"),0<r.length&&(o=new ls("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Io=null,So=null;function zy(t){zd(t,0)}function Fa(t){var r=Es(t);if($i(r))return t}function By(t,r){if(t==="change")return r}var Id=!1;if(m){var Du;if(m){var Nu="oninput"in document;if(!Nu){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),Nu=typeof Sd.oninput=="function"}Du=Nu}else Du=!1;Id=Du&&(!document.documentMode||9<document.documentMode)}function Ad(){Io&&(Io.detachEvent("onpropertychange",Rd),So=Io=null)}function Rd(t){if(t.propertyName==="value"&&Fa(So)){var r=[];Td(r,So,t,Qi(t)),uo(zy,r)}}function jy(t,r,o){t==="focusin"?(Ad(),Io=r,So=o,Io.attachEvent("onpropertychange",Rd)):t==="focusout"&&Ad()}function $y(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fa(So)}function qy(t,r){if(t==="click")return Fa(r)}function Hy(t,r){if(t==="input"||t==="change")return Fa(r)}function Wy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Cn=typeof Object.is=="function"?Object.is:Wy;function Ao(t,r){if(Cn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!Cn(t[h],r[h]))return!1}return!0}function Cd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pd(t,r){var o=Cd(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Cd(o)}}function kd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?kd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Vd(){for(var t=window,r=Er();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Er(t.document)}return r}function xu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Ky(t){var r=Vd(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&kd(o.ownerDocument.documentElement,o)){if(u!==null&&xu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=Pd(o,p);var _=Pd(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qy=m&&"documentMode"in document&&11>=document.documentMode,gs=null,Lu=null,Ro=null,Ou=!1;function Dd(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ou||gs==null||gs!==Er(u)||(u=gs,"selectionStart"in u&&xu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ro&&Ao(Ro,u)||(Ro=u,u=Ba(Lu,"onSelect"),0<u.length&&(r=new ls("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=gs)))}function Ua(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ys={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},Mu={},Nd={};m&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function ba(t){if(Mu[t])return Mu[t];if(!ys[t])return t;var r=ys[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Nd)return Mu[t]=r[o];return t}var xd=ba("animationend"),Ld=ba("animationiteration"),Od=ba("animationstart"),Md=ba("transitionend"),Fd=new Map,Ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,r){Fd.set(t,r),c(r,[t])}for(var Fu=0;Fu<Ud.length;Fu++){var Uu=Ud[Fu],Gy=Uu.toLowerCase(),Xy=Uu[0].toUpperCase()+Uu.slice(1);Dr(Gy,"on"+Xy)}Dr(xd,"onAnimationEnd"),Dr(Ld,"onAnimationIteration"),Dr(Od,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Md,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function bd(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ma(u,r,void 0,t),t.currentTarget=null}function zd(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var w=u[_],R=w.instance,U=w.currentTarget;if(w=w.listener,R!==p&&h.isPropagationStopped())break e;bd(h,w,U),p=R}else for(_=0;_<u.length;_++){if(w=u[_],R=w.instance,U=w.currentTarget,w=w.listener,R!==p&&h.isPropagationStopped())break e;bd(h,w,U),p=R}}}if(vn)throw t=co,vn=!1,co=null,t}function $e(t,r){var o=r[Wu];o===void 0&&(o=r[Wu]=new Set);var u=t+"__bubble";o.has(u)||(Bd(r,t,2,!1),o.add(u))}function bu(t,r,o){var u=0;r&&(u|=4),Bd(o,t,u,r)}var za="_reactListening"+Math.random().toString(36).slice(2);function Po(t){if(!t[za]){t[za]=!0,s.forEach(function(o){o!=="selectionchange"&&(Yy.has(o)||bu(o,!1,t),bu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[za]||(r[za]=!0,bu("selectionchange",!1,r))}}function Bd(t,r,o,u){switch(_o(r)){case 1:var h=He;break;case 4:h=ku;break;default:h=yo}o=h.bind(null,r,o,t),h=void 0,!Yi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function zu(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;_=_.return}for(;w!==null;){if(_=wi(w),_===null)return;if(R=_.tag,R===5||R===6){u=p=_;continue e}w=w.parentNode}}u=u.return}uo(function(){var U=p,q=Qi(o),K=[];e:{var $=Fd.get(t);if($!==void 0){var Z=ls,ie=t;switch(t){case"keypress":if(as(o)===0)break e;case"keydown":case"keyup":Z=f;break;case"focusin":ie="focus",Z=ds;break;case"focusout":ie="blur",Z=ds;break;case"beforeblur":case"afterblur":Z=ds;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Va;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=b;break;case xd:case Ld:case Od:Z=or;break;case Md:Z=Me;break;case"scroll":Z=Vu;break;case"wheel":Z=Pe;break;case"copy":case"cut":case"paste":Z=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=E}var se=(r&4)!==0,tt=!se&&t==="scroll",O=se?$!==null?$+"Capture":null:$;se=[];for(var C=U,F;C!==null;){F=C;var Q=F.stateNode;if(F.tag===5&&Q!==null&&(F=Q,O!==null&&(Q=et(C,O),Q!=null&&se.push(ko(C,Q,F)))),tt)break;C=C.return}0<se.length&&($=new Z($,ie,null,o,q),K.push({event:$,listeners:se}))}}if(!(r&7)){e:{if($=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",$&&o!==li&&(ie=o.relatedTarget||o.fromElement)&&(wi(ie)||ie[ar]))break e;if((Z||$)&&($=q.window===q?q:($=q.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(ie=o.relatedTarget||o.toElement,Z=U,ie=ie?wi(ie):null,ie!==null&&(tt=En(ie),ie!==tt||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(Z=null,ie=U),Z!==ie)){if(se=cs,Q="onMouseLeave",O="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(se=E,Q="onPointerLeave",O="onPointerEnter",C="pointer"),tt=Z==null?$:Es(Z),F=ie==null?$:Es(ie),$=new se(Q,C+"leave",Z,o,q),$.target=tt,$.relatedTarget=F,Q=null,wi(q)===U&&(se=new se(O,C+"enter",ie,o,q),se.target=F,se.relatedTarget=tt,Q=se),tt=Q,Z&&ie)t:{for(se=Z,O=ie,C=0,F=se;F;F=_s(F))C++;for(F=0,Q=O;Q;Q=_s(Q))F++;for(;0<C-F;)se=_s(se),C--;for(;0<F-C;)O=_s(O),F--;for(;C--;){if(se===O||O!==null&&se===O.alternate)break t;se=_s(se),O=_s(O)}se=null}else se=null;Z!==null&&jd(K,$,Z,se,!1),ie!==null&&tt!==null&&jd(K,tt,ie,se,!0)}}e:{if($=U?Es(U):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var oe=By;else if(wd($))if(Id)oe=Hy;else{oe=$y;var ce=jy}else(Z=$.nodeName)&&Z.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(oe=qy);if(oe&&(oe=oe(t,U))){Td(K,oe,o,q);break e}ce&&ce(t,$,U),t==="focusout"&&(ce=$._wrapperState)&&ce.controlled&&$.type==="number"&&Hi($,"number",$.value)}switch(ce=U?Es(U):window,t){case"focusin":(wd(ce)||ce.contentEditable==="true")&&(gs=ce,Lu=U,Ro=null);break;case"focusout":Ro=Lu=gs=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,Dd(K,o,q);break;case"selectionchange":if(Qy)break;case"keydown":case"keyup":Dd(K,o,q)}var he;if(rt)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else ms?vd(t,o)&&(pe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(pe="onCompositionStart");pe&&(Ei&&o.locale!=="ko"&&(ms||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&ms&&(he=vo()):(Zt=q,os="value"in Zt?Zt.value:Zt.textContent,ms=!0)),ce=Ba(U,pe),0<ce.length&&(pe=new To(pe,t,null,o,q),K.push({event:pe,listeners:ce}),he?pe.data=he:(he=Ed(o),he!==null&&(pe.data=he)))),(he=en?Fy(t,o):Uy(t,o))&&(U=Ba(U,"onBeforeInput"),0<U.length&&(q=new To("onBeforeInput","beforeinput",null,o,q),K.push({event:q,listeners:U}),q.data=he))}zd(K,r)})}function ko(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ba(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=et(t,o),p!=null&&u.unshift(ko(t,p,h)),p=et(t,r),p!=null&&u.push(ko(t,p,h))),t=t.return}return u}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jd(t,r,o,u,h){for(var p=r._reactName,_=[];o!==null&&o!==u;){var w=o,R=w.alternate,U=w.stateNode;if(R!==null&&R===u)break;w.tag===5&&U!==null&&(w=U,h?(R=et(o,p),R!=null&&_.unshift(ko(o,R,w))):h||(R=et(o,p),R!=null&&_.push(ko(o,R,w)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Jy=/\r\n?/g,Zy=/\u0000|\uFFFD/g;function $d(t){return(typeof t=="string"?t:""+t).replace(Jy,`
`).replace(Zy,"")}function ja(t,r,o){if(r=$d(r),$d(t)!==r&&o)throw Error(n(425))}function $a(){}var Bu=null,ju=null;function $u(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qu=typeof setTimeout=="function"?setTimeout:void 0,e_=typeof clearTimeout=="function"?clearTimeout:void 0,qd=typeof Promise=="function"?Promise:void 0,t_=typeof queueMicrotask=="function"?queueMicrotask:typeof qd<"u"?function(t){return qd.resolve(null).then(t).catch(n_)}:qu;function n_(t){setTimeout(function(){throw t})}function Hu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),An(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);An(r)}function Nr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Hd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var vs=Math.random().toString(36).slice(2),Bn="__reactFiber$"+vs,Vo="__reactProps$"+vs,ar="__reactContainer$"+vs,Wu="__reactEvents$"+vs,r_="__reactListeners$"+vs,i_="__reactHandles$"+vs;function wi(t){var r=t[Bn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ar]||o[Bn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Hd(t);t!==null;){if(o=t[Bn])return o;t=Hd(t)}return r}t=o,o=t.parentNode}return null}function Do(t){return t=t[Bn]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function qa(t){return t[Vo]||null}var Ku=[],ws=-1;function xr(t){return{current:t}}function qe(t){0>ws||(t.current=Ku[ws],Ku[ws]=null,ws--)}function Be(t,r){ws++,Ku[ws]=t.current,t.current=r}var Lr={},kt=xr(Lr),jt=xr(!1),Ti=Lr;function Ts(t,r){var o=t.type.contextTypes;if(!o)return Lr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function $t(t){return t=t.childContextTypes,t!=null}function Ha(){qe(jt),qe(kt)}function Wd(t,r,o){if(kt.current!==Lr)throw Error(n(168));Be(kt,r),Be(jt,o)}function Kd(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,xe(t)||"Unknown",h));return te({},o,u)}function Wa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,Ti=kt.current,Be(kt,t),Be(jt,jt.current),!0}function Qd(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Kd(t,r,Ti),u.__reactInternalMemoizedMergedChildContext=t,qe(jt),qe(kt),Be(kt,t)):qe(jt),Be(jt,o)}var lr=null,Ka=!1,Qu=!1;function Gd(t){lr===null?lr=[t]:lr.push(t)}function s_(t){Ka=!0,Gd(t)}function Or(){if(!Qu&&lr!==null){Qu=!0;var t=0,r=Ae;try{var o=lr;for(Ae=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}lr=null,Ka=!1}catch(h){throw lr!==null&&(lr=lr.slice(t+1)),ts(fi,Or),h}finally{Ae=r,Qu=!1}}return null}var Is=[],Ss=0,Qa=null,Ga=0,hn=[],dn=0,Ii=null,ur=1,cr="";function Si(t,r){Is[Ss++]=Ga,Is[Ss++]=Qa,Qa=t,Ga=r}function Xd(t,r,o){hn[dn++]=ur,hn[dn++]=cr,hn[dn++]=Ii,Ii=t;var u=ur;t=cr;var h=32-Mt(u)-1;u&=~(1<<h),o+=1;var p=32-Mt(r)+h;if(30<p){var _=h-h%5;p=(u&(1<<_)-1).toString(32),u>>=_,h-=_,ur=1<<32-Mt(r)+h|o<<h|u,cr=p+t}else ur=1<<p|o<<h|u,cr=t}function Gu(t){t.return!==null&&(Si(t,1),Xd(t,1,0))}function Xu(t){for(;t===Qa;)Qa=Is[--Ss],Is[Ss]=null,Ga=Is[--Ss],Is[Ss]=null;for(;t===Ii;)Ii=hn[--dn],hn[dn]=null,cr=hn[--dn],hn[dn]=null,ur=hn[--dn],hn[dn]=null}var tn=null,nn=null,We=!1,Pn=null;function Yd(t,r){var o=gn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Jd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Nr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ii!==null?{id:ur,overflow:cr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=gn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function Yu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ju(t){if(We){var r=nn;if(r){var o=r;if(!Jd(t,r)){if(Yu(t))throw Error(n(418));r=Nr(o.nextSibling);var u=tn;r&&Jd(t,r)?Yd(u,o):(t.flags=t.flags&-4097|2,We=!1,tn=t)}}else{if(Yu(t))throw Error(n(418));t.flags=t.flags&-4097|2,We=!1,tn=t}}}function Zd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Xa(t){if(t!==tn)return!1;if(!We)return Zd(t),We=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!$u(t.type,t.memoizedProps)),r&&(r=nn)){if(Yu(t))throw ef(),Error(n(418));for(;r;)Yd(t,r),r=Nr(r.nextSibling)}if(Zd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Nr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Nr(t.stateNode.nextSibling):null;return!0}function ef(){for(var t=nn;t;)t=Nr(t.nextSibling)}function As(){nn=tn=null,We=!1}function Zu(t){Pn===null?Pn=[t]:Pn.push(t)}var o_=Ee.ReactCurrentBatchConfig;function No(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var w=h.refs;_===null?delete w[p]:w[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Ya(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function tf(t){var r=t._init;return r(t._payload)}function nf(t){function r(O,C){if(t){var F=O.deletions;F===null?(O.deletions=[C],O.flags|=16):F.push(C)}}function o(O,C){if(!t)return null;for(;C!==null;)r(O,C),C=C.sibling;return null}function u(O,C){for(O=new Map;C!==null;)C.key!==null?O.set(C.key,C):O.set(C.index,C),C=C.sibling;return O}function h(O,C){return O=$r(O,C),O.index=0,O.sibling=null,O}function p(O,C,F){return O.index=F,t?(F=O.alternate,F!==null?(F=F.index,F<C?(O.flags|=2,C):F):(O.flags|=2,C)):(O.flags|=1048576,C)}function _(O){return t&&O.alternate===null&&(O.flags|=2),O}function w(O,C,F,Q){return C===null||C.tag!==6?(C=qc(F,O.mode,Q),C.return=O,C):(C=h(C,F),C.return=O,C)}function R(O,C,F,Q){var oe=F.type;return oe===k?q(O,C,F.props.children,Q,F.key):C!==null&&(C.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pt&&tf(oe)===C.type)?(Q=h(C,F.props),Q.ref=No(O,C,F),Q.return=O,Q):(Q=wl(F.type,F.key,F.props,null,O.mode,Q),Q.ref=No(O,C,F),Q.return=O,Q)}function U(O,C,F,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==F.containerInfo||C.stateNode.implementation!==F.implementation?(C=Hc(F,O.mode,Q),C.return=O,C):(C=h(C,F.children||[]),C.return=O,C)}function q(O,C,F,Q,oe){return C===null||C.tag!==7?(C=Ni(F,O.mode,Q,oe),C.return=O,C):(C=h(C,F),C.return=O,C)}function K(O,C,F){if(typeof C=="string"&&C!==""||typeof C=="number")return C=qc(""+C,O.mode,F),C.return=O,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case je:return F=wl(C.type,C.key,C.props,null,O.mode,F),F.ref=No(O,null,C),F.return=O,F;case _e:return C=Hc(C,O.mode,F),C.return=O,C;case Pt:var Q=C._init;return K(O,Q(C._payload),F)}if(Jn(C)||ue(C))return C=Ni(C,O.mode,F,null),C.return=O,C;Ya(O,C)}return null}function $(O,C,F,Q){var oe=C!==null?C.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return oe!==null?null:w(O,C,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case je:return F.key===oe?R(O,C,F,Q):null;case _e:return F.key===oe?U(O,C,F,Q):null;case Pt:return oe=F._init,$(O,C,oe(F._payload),Q)}if(Jn(F)||ue(F))return oe!==null?null:q(O,C,F,Q,null);Ya(O,F)}return null}function Z(O,C,F,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return O=O.get(F)||null,w(C,O,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case je:return O=O.get(Q.key===null?F:Q.key)||null,R(C,O,Q,oe);case _e:return O=O.get(Q.key===null?F:Q.key)||null,U(C,O,Q,oe);case Pt:var ce=Q._init;return Z(O,C,F,ce(Q._payload),oe)}if(Jn(Q)||ue(Q))return O=O.get(F)||null,q(C,O,Q,oe,null);Ya(C,Q)}return null}function ie(O,C,F,Q){for(var oe=null,ce=null,he=C,pe=C=0,_t=null;he!==null&&pe<F.length;pe++){he.index>pe?(_t=he,he=null):_t=he.sibling;var Ne=$(O,he,F[pe],Q);if(Ne===null){he===null&&(he=_t);break}t&&he&&Ne.alternate===null&&r(O,he),C=p(Ne,C,pe),ce===null?oe=Ne:ce.sibling=Ne,ce=Ne,he=_t}if(pe===F.length)return o(O,he),We&&Si(O,pe),oe;if(he===null){for(;pe<F.length;pe++)he=K(O,F[pe],Q),he!==null&&(C=p(he,C,pe),ce===null?oe=he:ce.sibling=he,ce=he);return We&&Si(O,pe),oe}for(he=u(O,he);pe<F.length;pe++)_t=Z(he,O,pe,F[pe],Q),_t!==null&&(t&&_t.alternate!==null&&he.delete(_t.key===null?pe:_t.key),C=p(_t,C,pe),ce===null?oe=_t:ce.sibling=_t,ce=_t);return t&&he.forEach(function(qr){return r(O,qr)}),We&&Si(O,pe),oe}function se(O,C,F,Q){var oe=ue(F);if(typeof oe!="function")throw Error(n(150));if(F=oe.call(F),F==null)throw Error(n(151));for(var ce=oe=null,he=C,pe=C=0,_t=null,Ne=F.next();he!==null&&!Ne.done;pe++,Ne=F.next()){he.index>pe?(_t=he,he=null):_t=he.sibling;var qr=$(O,he,Ne.value,Q);if(qr===null){he===null&&(he=_t);break}t&&he&&qr.alternate===null&&r(O,he),C=p(qr,C,pe),ce===null?oe=qr:ce.sibling=qr,ce=qr,he=_t}if(Ne.done)return o(O,he),We&&Si(O,pe),oe;if(he===null){for(;!Ne.done;pe++,Ne=F.next())Ne=K(O,Ne.value,Q),Ne!==null&&(C=p(Ne,C,pe),ce===null?oe=Ne:ce.sibling=Ne,ce=Ne);return We&&Si(O,pe),oe}for(he=u(O,he);!Ne.done;pe++,Ne=F.next())Ne=Z(he,O,pe,Ne.value,Q),Ne!==null&&(t&&Ne.alternate!==null&&he.delete(Ne.key===null?pe:Ne.key),C=p(Ne,C,pe),ce===null?oe=Ne:ce.sibling=Ne,ce=Ne);return t&&he.forEach(function(U_){return r(O,U_)}),We&&Si(O,pe),oe}function tt(O,C,F,Q){if(typeof F=="object"&&F!==null&&F.type===k&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case je:e:{for(var oe=F.key,ce=C;ce!==null;){if(ce.key===oe){if(oe=F.type,oe===k){if(ce.tag===7){o(O,ce.sibling),C=h(ce,F.props.children),C.return=O,O=C;break e}}else if(ce.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pt&&tf(oe)===ce.type){o(O,ce.sibling),C=h(ce,F.props),C.ref=No(O,ce,F),C.return=O,O=C;break e}o(O,ce);break}else r(O,ce);ce=ce.sibling}F.type===k?(C=Ni(F.props.children,O.mode,Q,F.key),C.return=O,O=C):(Q=wl(F.type,F.key,F.props,null,O.mode,Q),Q.ref=No(O,C,F),Q.return=O,O=Q)}return _(O);case _e:e:{for(ce=F.key;C!==null;){if(C.key===ce)if(C.tag===4&&C.stateNode.containerInfo===F.containerInfo&&C.stateNode.implementation===F.implementation){o(O,C.sibling),C=h(C,F.children||[]),C.return=O,O=C;break e}else{o(O,C);break}else r(O,C);C=C.sibling}C=Hc(F,O.mode,Q),C.return=O,O=C}return _(O);case Pt:return ce=F._init,tt(O,C,ce(F._payload),Q)}if(Jn(F))return ie(O,C,F,Q);if(ue(F))return se(O,C,F,Q);Ya(O,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,C!==null&&C.tag===6?(o(O,C.sibling),C=h(C,F),C.return=O,O=C):(o(O,C),C=qc(F,O.mode,Q),C.return=O,O=C),_(O)):o(O,C)}return tt}var Rs=nf(!0),rf=nf(!1),Ja=xr(null),Za=null,Cs=null,ec=null;function tc(){ec=Cs=Za=null}function nc(t){var r=Ja.current;qe(Ja),t._currentValue=r}function rc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Ps(t,r){Za=t,ec=Cs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(qt=!0),t.firstContext=null)}function fn(t){var r=t._currentValue;if(ec!==t)if(t={context:t,memoizedValue:r,next:null},Cs===null){if(Za===null)throw Error(n(308));Cs=t,Za.dependencies={lanes:0,firstContext:t}}else Cs=Cs.next=t;return r}var Ai=null;function ic(t){Ai===null?Ai=[t]:Ai.push(t)}function sf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,ic(r)):(o.next=h.next,h.next=o),r.interleaved=o,hr(t,u)}function hr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Mr=!1;function sc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function of(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Fr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,De&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,hr(t,o)}return h=u.interleaved,h===null?(r.next=r,ic(u)):(r.next=h.next,h.next=r),u.interleaved=r,hr(t,o)}function el(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Rr(t,o)}}function af(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function tl(t,r,o,u){var h=t.updateQueue;Mr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,U=R.next;R.next=null,_===null?p=U:_.next=U,_=R;var q=t.alternate;q!==null&&(q=q.updateQueue,w=q.lastBaseUpdate,w!==_&&(w===null?q.firstBaseUpdate=U:w.next=U,q.lastBaseUpdate=R))}if(p!==null){var K=h.baseState;_=0,q=U=R=null,w=p;do{var $=w.lane,Z=w.eventTime;if((u&$)===$){q!==null&&(q=q.next={eventTime:Z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var ie=t,se=w;switch($=r,Z=o,se.tag){case 1:if(ie=se.payload,typeof ie=="function"){K=ie.call(Z,K,$);break e}K=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=se.payload,$=typeof ie=="function"?ie.call(Z,K,$):ie,$==null)break e;K=te({},K,$);break e;case 2:Mr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,$=h.effects,$===null?h.effects=[w]:$.push(w))}else Z={eventTime:Z,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},q===null?(U=q=Z,R=K):q=q.next=Z,_|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(q===null&&(R=K),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=q,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Pi|=_,t.lanes=_,t.memoizedState=K}}function lf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var xo={},jn=xr(xo),Lo=xr(xo),Oo=xr(xo);function Ri(t){if(t===xo)throw Error(n(174));return t}function oc(t,r){switch(Be(Oo,r),Be(Lo,t),Be(jn,xo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:at(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=at(r,t)}qe(jn),Be(jn,r)}function ks(){qe(jn),qe(Lo),qe(Oo)}function uf(t){Ri(Oo.current);var r=Ri(jn.current),o=at(r,t.type);r!==o&&(Be(Lo,t),Be(jn,o))}function ac(t){Lo.current===t&&(qe(jn),qe(Lo))}var Ge=xr(0);function nl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var lc=[];function uc(){for(var t=0;t<lc.length;t++)lc[t]._workInProgressVersionPrimary=null;lc.length=0}var rl=Ee.ReactCurrentDispatcher,cc=Ee.ReactCurrentBatchConfig,Ci=0,Xe=null,ut=null,gt=null,il=!1,Mo=!1,Fo=0,a_=0;function Vt(){throw Error(n(321))}function hc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Cn(t[o],r[o]))return!1;return!0}function dc(t,r,o,u,h,p){if(Ci=p,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,rl.current=t===null||t.memoizedState===null?h_:d_,t=o(u,h),Mo){p=0;do{if(Mo=!1,Fo=0,25<=p)throw Error(n(301));p+=1,gt=ut=null,r.updateQueue=null,rl.current=f_,t=o(u,h)}while(Mo)}if(rl.current=al,r=ut!==null&&ut.next!==null,Ci=0,gt=ut=Xe=null,il=!1,r)throw Error(n(300));return t}function fc(){var t=Fo!==0;return Fo=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Xe.memoizedState=gt=t:gt=gt.next=t,gt}function pn(){if(ut===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var r=gt===null?Xe.memoizedState:gt.next;if(r!==null)gt=r,ut=t;else{if(t===null)throw Error(n(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},gt===null?Xe.memoizedState=gt=t:gt=gt.next=t}return gt}function Uo(t,r){return typeof r=="function"?r(t):r}function pc(t){var r=pn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ut,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var w=_=null,R=null,U=p;do{var q=U.lane;if((Ci&q)===q)R!==null&&(R=R.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var K={lane:q,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};R===null?(w=R=K,_=u):R=R.next=K,Xe.lanes|=q,Pi|=q}U=U.next}while(U!==null&&U!==p);R===null?_=u:R.next=w,Cn(u,r.memoizedState)||(qt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Xe.lanes|=p,Pi|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function mc(t){var r=pn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);Cn(p,r.memoizedState)||(qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function cf(){}function hf(t,r){var o=Xe,u=pn(),h=r(),p=!Cn(u.memoizedState,h);if(p&&(u.memoizedState=h,qt=!0),u=u.queue,gc(pf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||gt!==null&&gt.memoizedState.tag&1){if(o.flags|=2048,bo(9,ff.bind(null,o,u,h,r),void 0,null),yt===null)throw Error(n(349));Ci&30||df(o,r,h)}return h}function df(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function ff(t,r,o,u){r.value=o,r.getSnapshot=u,mf(r)&&gf(t)}function pf(t,r,o){return o(function(){mf(r)&&gf(t)})}function mf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Cn(t,o)}catch{return!0}}function gf(t){var r=hr(t,1);r!==null&&Nn(r,t,1,-1)}function yf(t){var r=$n();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:t},r.queue=t,t=t.dispatch=c_.bind(null,Xe,t),[r.memoizedState,t]}function bo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function _f(){return pn().memoizedState}function sl(t,r,o,u){var h=$n();Xe.flags|=t,h.memoizedState=bo(1|r,o,void 0,u===void 0?null:u)}function ol(t,r,o,u){var h=pn();u=u===void 0?null:u;var p=void 0;if(ut!==null){var _=ut.memoizedState;if(p=_.destroy,u!==null&&hc(u,_.deps)){h.memoizedState=bo(r,o,p,u);return}}Xe.flags|=t,h.memoizedState=bo(1|r,o,p,u)}function vf(t,r){return sl(8390656,8,t,r)}function gc(t,r){return ol(2048,8,t,r)}function Ef(t,r){return ol(4,2,t,r)}function wf(t,r){return ol(4,4,t,r)}function Tf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function If(t,r,o){return o=o!=null?o.concat([t]):null,ol(4,4,Tf.bind(null,r,t),o)}function yc(){}function Sf(t,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&hc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Af(t,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&hc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Rf(t,r,o){return Ci&21?(Cn(o,r)||(o=gi(),Xe.lanes|=o,Pi|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=o)}function l_(t,r){var o=Ae;Ae=o!==0&&4>o?o:4,t(!0);var u=cc.transition;cc.transition={};try{t(!1),r()}finally{Ae=o,cc.transition=u}}function Cf(){return pn().memoizedState}function u_(t,r,o){var u=Br(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Pf(t))kf(r,o);else if(o=sf(t,r,o,u),o!==null){var h=bt();Nn(o,t,u,h),Vf(o,r,u)}}function c_(t,r,o){var u=Br(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pf(t))kf(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,w=p(_,o);if(h.hasEagerState=!0,h.eagerState=w,Cn(w,_)){var R=r.interleaved;R===null?(h.next=h,ic(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=sf(t,r,h,u),o!==null&&(h=bt(),Nn(o,t,u,h),Vf(o,r,u))}}function Pf(t){var r=t.alternate;return t===Xe||r!==null&&r===Xe}function kf(t,r){Mo=il=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Vf(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Rr(t,o)}}var al={readContext:fn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},h_={readContext:fn,useCallback:function(t,r){return $n().memoizedState=[t,r===void 0?null:r],t},useContext:fn,useEffect:vf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,sl(4194308,4,Tf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return sl(4194308,4,t,r)},useInsertionEffect:function(t,r){return sl(4,2,t,r)},useMemo:function(t,r){var o=$n();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=$n();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=u_.bind(null,Xe,t),[u.memoizedState,t]},useRef:function(t){var r=$n();return t={current:t},r.memoizedState=t},useState:yf,useDebugValue:yc,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=yf(!1),r=t[0];return t=l_.bind(null,t[1]),$n().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Xe,h=$n();if(We){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),yt===null)throw Error(n(349));Ci&30||df(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,vf(pf.bind(null,u,p,t),[t]),u.flags|=2048,bo(9,ff.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=$n(),r=yt.identifierPrefix;if(We){var o=cr,u=ur;o=(u&~(1<<32-Mt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Fo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=a_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},d_={readContext:fn,useCallback:Sf,useContext:fn,useEffect:gc,useImperativeHandle:If,useInsertionEffect:Ef,useLayoutEffect:wf,useMemo:Af,useReducer:pc,useRef:_f,useState:function(){return pc(Uo)},useDebugValue:yc,useDeferredValue:function(t){var r=pn();return Rf(r,ut.memoizedState,t)},useTransition:function(){var t=pc(Uo)[0],r=pn().memoizedState;return[t,r]},useMutableSource:cf,useSyncExternalStore:hf,useId:Cf,unstable_isNewReconciler:!1},f_={readContext:fn,useCallback:Sf,useContext:fn,useEffect:gc,useImperativeHandle:If,useInsertionEffect:Ef,useLayoutEffect:wf,useMemo:Af,useReducer:mc,useRef:_f,useState:function(){return mc(Uo)},useDebugValue:yc,useDeferredValue:function(t){var r=pn();return ut===null?r.memoizedState=t:Rf(r,ut.memoizedState,t)},useTransition:function(){var t=mc(Uo)[0],r=pn().memoizedState;return[t,r]},useMutableSource:cf,useSyncExternalStore:hf,useId:Cf,unstable_isNewReconciler:!1};function kn(t,r){if(t&&t.defaultProps){r=te({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function _c(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:te({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ll={isMounted:function(t){return(t=t._reactInternals)?En(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=bt(),h=Br(t),p=dr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Fr(t,p,h),r!==null&&(Nn(r,t,h,u),el(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=bt(),h=Br(t),p=dr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Fr(t,p,h),r!==null&&(Nn(r,t,h,u),el(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=bt(),u=Br(t),h=dr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Fr(t,h,u),r!==null&&(Nn(r,t,u,o),el(r,t,u))}};function Df(t,r,o,u,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!Ao(o,u)||!Ao(h,p):!0}function Nf(t,r,o){var u=!1,h=Lr,p=r.contextType;return typeof p=="object"&&p!==null?p=fn(p):(h=$t(r)?Ti:kt.current,u=r.contextTypes,p=(u=u!=null)?Ts(t,h):Lr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ll,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function xf(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&ll.enqueueReplaceState(r,r.state,null)}function vc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},sc(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=fn(p):(p=$t(r)?Ti:kt.current,h.context=Ts(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(_c(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&ll.enqueueReplaceState(h,h.state,null),tl(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Vs(t,r){try{var o="",u=r;do o+=Te(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function Ec(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function wc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var p_=typeof WeakMap=="function"?WeakMap:Map;function Lf(t,r,o){o=dr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){ml||(ml=!0,Mc=u),wc(t,r)},o}function Of(t,r,o){o=dr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){wc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){wc(t,r),typeof u!="function"&&(br===null?br=new Set([this]):br.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Mf(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new p_;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=P_.bind(null,t,r,o),r.then(t,t))}function Ff(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Uf(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=dr(-1,1),r.tag=2,Fr(o,r,1))),o.lanes|=1),t)}var m_=Ee.ReactCurrentOwner,qt=!1;function Ut(t,r,o,u){r.child=t===null?rf(r,null,o,u):Rs(r,t.child,o,u)}function bf(t,r,o,u,h){o=o.render;var p=r.ref;return Ps(r,h),u=dc(t,r,o,u,p,h),o=fc(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,fr(t,r,h)):(We&&o&&Gu(r),r.flags|=1,Ut(t,r,u,h),r.child)}function zf(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!$c(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Bf(t,r,p,u,h)):(t=wl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ao,o(_,u)&&t.ref===r.ref)return fr(t,r,h)}return r.flags|=1,t=$r(p,u),t.ref=r.ref,t.return=r,r.child=t}function Bf(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Ao(p,u)&&t.ref===r.ref)if(qt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(qt=!0);else return r.lanes=t.lanes,fr(t,r,h)}return Tc(t,r,o,u,h)}function jf(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ns,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Be(Ns,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,Be(Ns,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,Be(Ns,rn),rn|=u;return Ut(t,r,h,o),r.child}function $f(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Tc(t,r,o,u,h){var p=$t(o)?Ti:kt.current;return p=Ts(r,p),Ps(r,h),o=dc(t,r,o,u,p,h),u=fc(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,fr(t,r,h)):(We&&u&&Gu(r),r.flags|=1,Ut(t,r,o,h),r.child)}function qf(t,r,o,u,h){if($t(o)){var p=!0;Wa(r)}else p=!1;if(Ps(r,h),r.stateNode===null)cl(t,r),Nf(r,o,u),vc(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,w=r.memoizedProps;_.props=w;var R=_.context,U=o.contextType;typeof U=="object"&&U!==null?U=fn(U):(U=$t(o)?Ti:kt.current,U=Ts(r,U));var q=o.getDerivedStateFromProps,K=typeof q=="function"||typeof _.getSnapshotBeforeUpdate=="function";K||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==u||R!==U)&&xf(r,_,u,U),Mr=!1;var $=r.memoizedState;_.state=$,tl(r,u,_,h),R=r.memoizedState,w!==u||$!==R||jt.current||Mr?(typeof q=="function"&&(_c(r,o,q,u),R=r.memoizedState),(w=Mr||Df(r,o,w,u,$,R,U))?(K||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),_.props=u,_.state=R,_.context=U,u=w):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,of(t,r),w=r.memoizedProps,U=r.type===r.elementType?w:kn(r.type,w),_.props=U,K=r.pendingProps,$=_.context,R=o.contextType,typeof R=="object"&&R!==null?R=fn(R):(R=$t(o)?Ti:kt.current,R=Ts(r,R));var Z=o.getDerivedStateFromProps;(q=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==K||$!==R)&&xf(r,_,u,R),Mr=!1,$=r.memoizedState,_.state=$,tl(r,u,_,h);var ie=r.memoizedState;w!==K||$!==ie||jt.current||Mr?(typeof Z=="function"&&(_c(r,o,Z,u),ie=r.memoizedState),(U=Mr||Df(r,o,U,u,$,ie,R)||!1)?(q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ie,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ie,R)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),_.props=u,_.state=ie,_.context=R,u=U):(typeof _.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),u=!1)}return Ic(t,r,o,u,p,h)}function Ic(t,r,o,u,h,p){$f(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&Qd(r,o,!1),fr(t,r,p);u=r.stateNode,m_.current=r;var w=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=Rs(r,t.child,null,p),r.child=Rs(r,null,w,p)):Ut(t,r,w,p),r.memoizedState=u.state,h&&Qd(r,o,!0),r.child}function Hf(t){var r=t.stateNode;r.pendingContext?Wd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Wd(t,r.context,!1),oc(t,r.containerInfo)}function Wf(t,r,o,u,h){return As(),Zu(h),r.flags|=256,Ut(t,r,o,u),r.child}var Sc={dehydrated:null,treeContext:null,retryLane:0};function Ac(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kf(t,r,o){var u=r.pendingProps,h=Ge.current,p=!1,_=(r.flags&128)!==0,w;if((w=_)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Be(Ge,h&1),t===null)return Ju(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Tl(_,u,0,null),t=Ni(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Ac(o),r.memoizedState=Sc,t):Rc(r,_));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return g_(t,r,_,u,w,h,o);if(p){p=u.fallback,_=r.mode,h=t.child,w=h.sibling;var R={mode:"hidden",children:u.children};return!(_&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=$r(h,R),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?p=$r(w,p):(p=Ni(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?Ac(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=Sc,u}return p=t.child,t=p.sibling,u=$r(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Rc(t,r){return r=Tl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function ul(t,r,o,u){return u!==null&&Zu(u),Rs(r,t.child,null,o),t=Rc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function g_(t,r,o,u,h,p,_){if(o)return r.flags&256?(r.flags&=-257,u=Ec(Error(n(422))),ul(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Tl({mode:"visible",children:u.children},h,0,null),p=Ni(p,h,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&Rs(r,t.child,null,_),r.child.memoizedState=Ac(_),r.memoizedState=Sc,p);if(!(r.mode&1))return ul(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=Ec(p,u,void 0),ul(t,r,_,u)}if(w=(_&t.childLanes)!==0,qt||w){if(u=yt,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|_)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,hr(t,h),Nn(u,t,h,-1))}return jc(),u=Ec(Error(n(421))),ul(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=k_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=Nr(h.nextSibling),tn=r,We=!0,Pn=null,t!==null&&(hn[dn++]=ur,hn[dn++]=cr,hn[dn++]=Ii,ur=t.id,cr=t.overflow,Ii=r),r=Rc(r,u.children),r.flags|=4096,r)}function Qf(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),rc(t.return,r,o)}function Cc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Gf(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,r,u.children,o),u=Ge.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qf(t,o,r);else if(t.tag===19)Qf(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Be(Ge,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&nl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Cc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&nl(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Cc(r,!0,o,null,p);break;case"together":Cc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function cl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Pi|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=$r(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=$r(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function y_(t,r,o){switch(r.tag){case 3:Hf(r),As();break;case 5:uf(r);break;case 1:$t(r.type)&&Wa(r);break;case 4:oc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;Be(Ja,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Be(Ge,Ge.current&1),r.flags|=128,null):o&r.child.childLanes?Kf(t,r,o):(Be(Ge,Ge.current&1),t=fr(t,r,o),t!==null?t.sibling:null);Be(Ge,Ge.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Gf(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(Ge,Ge.current),u)break;return null;case 22:case 23:return r.lanes=0,jf(t,r,o)}return fr(t,r,o)}var Xf,Pc,Yf,Jf;Xf=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Pc=function(){},Yf=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ri(jn.current);var p=null;switch(o){case"input":h=si(t,h),u=si(t,u),p=[];break;case"select":h=te({},h,{value:void 0}),u=te({},u,{value:void 0}),p=[];break;case"textarea":h=Zs(t,h),u=Zs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=$a)}so(o,u);var _;o=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var w=h[U];for(_ in w)w.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in u){var R=u[U];if(w=h!=null?h[U]:void 0,u.hasOwnProperty(U)&&R!==w&&(R!=null||w!=null))if(U==="style")if(w){for(_ in w)!w.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in R)R.hasOwnProperty(_)&&w[_]!==R[_]&&(o||(o={}),o[_]=R[_])}else o||(p||(p=[]),p.push(U,o)),o=R;else U==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,w=w?w.__html:void 0,R!=null&&w!==R&&(p=p||[]).push(U,R)):U==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(U,""+R):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(R!=null&&U==="onScroll"&&$e("scroll",t),p||w===R||(p=[])):(p=p||[]).push(U,R))}o&&(p=p||[]).push("style",o);var U=p;(r.updateQueue=U)&&(r.flags|=4)}},Jf=function(t,r,o,u){o!==u&&(r.flags|=4)};function zo(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function __(t,r,o){var u=r.pendingProps;switch(Xu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return $t(r.type)&&Ha(),Dt(r),null;case 3:return u=r.stateNode,ks(),qe(jt),qe(kt),uc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Xa(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Pn!==null&&(bc(Pn),Pn=null))),Pc(t,r),Dt(r),null;case 5:ac(r);var h=Ri(Oo.current);if(o=r.type,t!==null&&r.stateNode!=null)Yf(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=Ri(jn.current),Xa(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Bn]=r,u[Vo]=p,t=(r.mode&1)!==0,o){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<Co.length;h++)$e(Co[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":qi(u,p),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},$e("invalid",u);break;case"textarea":Wi(u,p),$e("invalid",u)}so(o,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var w=p[_];_==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&ja(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&ja(u.textContent,w,t),h=["children",""+w]):a.hasOwnProperty(_)&&w!=null&&_==="onScroll"&&$e("scroll",u)}switch(o){case"input":Yn(u),pa(u,p,!0);break;case"textarea":Yn(u),eo(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=$a)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ot(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[Bn]=r,t[Vo]=u,Xf(t,r,!1,!1),r.stateNode=t;e:{switch(_=oo(o,u),o){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<Co.length;h++)$e(Co[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":qi(t,u),h=si(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=te({},u,{value:void 0}),$e("invalid",t);break;case"textarea":Wi(t,u),h=Zs(t,u),$e("invalid",t);break;default:h=u}so(o,h),w=h;for(p in w)if(w.hasOwnProperty(p)){var R=w[p];p==="style"?ro(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&to(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&wr(t,R):typeof R=="number"&&wr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&$e("scroll",t):R!=null&&fe(t,p,R,_))}switch(o){case"input":Yn(t),pa(t,u,!1);break;case"textarea":Yn(t),eo(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Le(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Zn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Zn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=$a)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)Jf(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ri(Oo.current),Ri(jn.current),Xa(r)){if(u=r.stateNode,o=r.memoizedProps,u[Bn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:ja(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ja(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Bn]=r,r.stateNode=u}return Dt(r),null;case 13:if(qe(Ge),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&nn!==null&&r.mode&1&&!(r.flags&128))ef(),As(),r.flags|=98560,p=!1;else if(p=Xa(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Bn]=r}else As(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else Pn!==null&&(bc(Pn),Pn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ge.current&1?ct===0&&(ct=3):jc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return ks(),Pc(t,r),t===null&&Po(r.stateNode.containerInfo),Dt(r),null;case 10:return nc(r.type._context),Dt(r),null;case 17:return $t(r.type)&&Ha(),Dt(r),null;case 19:if(qe(Ge),p=r.memoizedState,p===null)return Dt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)zo(p,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=nl(t),_!==null){for(r.flags|=128,zo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Be(Ge,Ge.current&1|2),r.child}t=t.sibling}p.tail!==null&&ze()>xs&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304)}else{if(!u)if(t=nl(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),zo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!We)return Dt(r),null}else 2*ze()-p.renderingStartTime>xs&&o!==1073741824&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=ze(),r.sibling=null,o=Ge.current,Be(Ge,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return Bc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?rn&1073741824&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function v_(t,r){switch(Xu(r),r.tag){case 1:return $t(r.type)&&Ha(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ks(),qe(jt),qe(kt),uc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return ac(r),null;case 13:if(qe(Ge),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));As()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Ge),null;case 4:return ks(),null;case 10:return nc(r.type._context),null;case 22:case 23:return Bc(),null;case 24:return null;default:return null}}var hl=!1,Nt=!1,E_=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ds(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Je(t,r,u)}else o.current=null}function kc(t,r,o){try{o()}catch(u){Je(t,r,u)}}var Zf=!1;function w_(t,r){if(Bu=kr,t=Vd(),xu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,w=-1,R=-1,U=0,q=0,K=t,$=null;t:for(;;){for(var Z;K!==o||h!==0&&K.nodeType!==3||(w=_+h),K!==p||u!==0&&K.nodeType!==3||(R=_+u),K.nodeType===3&&(_+=K.nodeValue.length),(Z=K.firstChild)!==null;)$=K,K=Z;for(;;){if(K===t)break t;if($===o&&++U===h&&(w=_),$===p&&++q===u&&(R=_),(Z=K.nextSibling)!==null)break;K=$,$=K.parentNode}K=Z}o=w===-1||R===-1?null:{start:w,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(ju={focusedElem:t,selectionRange:o},kr=!1,re=r;re!==null;)if(r=re,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,re=t;else for(;re!==null;){r=re;try{var ie=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var se=ie.memoizedProps,tt=ie.memoizedState,O=r.stateNode,C=O.getSnapshotBeforeUpdate(r.elementType===r.type?se:kn(r.type,se),tt);O.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Q){Je(r,r.return,Q)}if(t=r.sibling,t!==null){t.return=r.return,re=t;break}re=r.return}return ie=Zf,Zf=!1,ie}function Bo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&kc(r,o,p)}h=h.next}while(h!==u)}}function dl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Vc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function ep(t){var r=t.alternate;r!==null&&(t.alternate=null,ep(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Bn],delete r[Vo],delete r[Wu],delete r[r_],delete r[i_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tp(t){return t.tag===5||t.tag===3||t.tag===4}function np(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=$a));else if(u!==4&&(t=t.child,t!==null))for(Dc(t,r,o),t=t.sibling;t!==null;)Dc(t,r,o),t=t.sibling}function Nc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Nc(t,r,o),t=t.sibling;t!==null;)Nc(t,r,o),t=t.sibling}var Tt=null,Vn=!1;function Ur(t,r,o){for(o=o.child;o!==null;)rp(t,r,o),o=o.sibling}function rp(t,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(pi,o)}catch{}switch(o.tag){case 5:Nt||Ds(o,r);case 6:var u=Tt,h=Vn;Tt=null,Ur(t,r,o),Tt=u,Vn=h,Tt!==null&&(Vn?(t=Tt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Tt.removeChild(o.stateNode));break;case 18:Tt!==null&&(Vn?(t=Tt,o=o.stateNode,t.nodeType===8?Hu(t.parentNode,o):t.nodeType===1&&Hu(t,o),An(t)):Hu(Tt,o.stateNode));break;case 4:u=Tt,h=Vn,Tt=o.stateNode.containerInfo,Vn=!0,Ur(t,r,o),Tt=u,Vn=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&kc(o,r,_),h=h.next}while(h!==u)}Ur(t,r,o);break;case 1:if(!Nt&&(Ds(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(w){Je(o,r,w)}Ur(t,r,o);break;case 21:Ur(t,r,o);break;case 22:o.mode&1?(Nt=(u=Nt)||o.memoizedState!==null,Ur(t,r,o),Nt=u):Ur(t,r,o);break;default:Ur(t,r,o)}}function ip(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new E_),r.forEach(function(u){var h=V_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Dn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,_=r,w=_;e:for(;w!==null;){switch(w.tag){case 5:Tt=w.stateNode,Vn=!1;break e;case 3:Tt=w.stateNode.containerInfo,Vn=!0;break e;case 4:Tt=w.stateNode.containerInfo,Vn=!0;break e}w=w.return}if(Tt===null)throw Error(n(160));rp(p,_,h),Tt=null,Vn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(U){Je(h,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)sp(r,t),r=r.sibling}function sp(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(r,t),qn(t),u&4){try{Bo(3,t,t.return),dl(3,t)}catch(se){Je(t,t.return,se)}try{Bo(5,t,t.return)}catch(se){Je(t,t.return,se)}}break;case 1:Dn(r,t),qn(t),u&512&&o!==null&&Ds(o,o.return);break;case 5:if(Dn(r,t),qn(t),u&512&&o!==null&&Ds(o,o.return),t.flags&32){var h=t.stateNode;try{wr(h,"")}catch(se){Je(t,t.return,se)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,w=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&Ys(h,p),oo(w,_);var U=oo(w,p);for(_=0;_<R.length;_+=2){var q=R[_],K=R[_+1];q==="style"?ro(h,K):q==="dangerouslySetInnerHTML"?to(h,K):q==="children"?wr(h,K):fe(h,q,K,U)}switch(w){case"input":Js(h,p);break;case"textarea":Ki(h,p);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?Zn(h,!!p.multiple,Z,!1):$!==!!p.multiple&&(p.defaultValue!=null?Zn(h,!!p.multiple,p.defaultValue,!0):Zn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Vo]=p}catch(se){Je(t,t.return,se)}}break;case 6:if(Dn(r,t),qn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(se){Je(t,t.return,se)}}break;case 3:if(Dn(r,t),qn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{An(r.containerInfo)}catch(se){Je(t,t.return,se)}break;case 4:Dn(r,t),qn(t);break;case 13:Dn(r,t),qn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Oc=ze())),u&4&&ip(t);break;case 22:if(q=o!==null&&o.memoizedState!==null,t.mode&1?(Nt=(U=Nt)||q,Dn(r,t),Nt=U):Dn(r,t),qn(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!q&&t.mode&1)for(re=t,q=t.child;q!==null;){for(K=re=q;re!==null;){switch($=re,Z=$.child,$.tag){case 0:case 11:case 14:case 15:Bo(4,$,$.return);break;case 1:Ds($,$.return);var ie=$.stateNode;if(typeof ie.componentWillUnmount=="function"){u=$,o=$.return;try{r=u,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(se){Je(u,o,se)}}break;case 5:Ds($,$.return);break;case 22:if($.memoizedState!==null){lp(K);continue}}Z!==null?(Z.return=$,re=Z):lp(K)}q=q.sibling}e:for(q=null,K=t;;){if(K.tag===5){if(q===null){q=K;try{h=K.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=K.stateNode,R=K.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,w.style.display=no("display",_))}catch(se){Je(t,t.return,se)}}}else if(K.tag===6){if(q===null)try{K.stateNode.nodeValue=U?"":K.memoizedProps}catch(se){Je(t,t.return,se)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===t)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===t)break e;for(;K.sibling===null;){if(K.return===null||K.return===t)break e;q===K&&(q=null),K=K.return}q===K&&(q=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Dn(r,t),qn(t),u&4&&ip(t);break;case 21:break;default:Dn(r,t),qn(t)}}function qn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(tp(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(wr(h,""),u.flags&=-33);var p=np(t);Nc(t,p,h);break;case 3:case 4:var _=u.stateNode.containerInfo,w=np(t);Dc(t,w,_);break;default:throw Error(n(161))}}catch(R){Je(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function T_(t,r,o){re=t,op(t)}function op(t,r,o){for(var u=(t.mode&1)!==0;re!==null;){var h=re,p=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||hl;if(!_){var w=h.alternate,R=w!==null&&w.memoizedState!==null||Nt;w=hl;var U=Nt;if(hl=_,(Nt=R)&&!U)for(re=h;re!==null;)_=re,R=_.child,_.tag===22&&_.memoizedState!==null?up(h):R!==null?(R.return=_,re=R):up(h);for(;p!==null;)re=p,op(p),p=p.sibling;re=h,hl=w,Nt=U}ap(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,re=p):ap(t)}}function ap(t){for(;re!==null;){var r=re;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Nt||dl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Nt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:kn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&lf(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}lf(r,_,o)}break;case 5:var w=r.stateNode;if(o===null&&r.flags&4){o=w;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var q=U.memoizedState;if(q!==null){var K=q.dehydrated;K!==null&&An(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nt||r.flags&512&&Vc(r)}catch($){Je(r,r.return,$)}}if(r===t){re=null;break}if(o=r.sibling,o!==null){o.return=r.return,re=o;break}re=r.return}}function lp(t){for(;re!==null;){var r=re;if(r===t){re=null;break}var o=r.sibling;if(o!==null){o.return=r.return,re=o;break}re=r.return}}function up(t){for(;re!==null;){var r=re;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{dl(4,r)}catch(R){Je(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){Je(r,h,R)}}var p=r.return;try{Vc(r)}catch(R){Je(r,p,R)}break;case 5:var _=r.return;try{Vc(r)}catch(R){Je(r,_,R)}}}catch(R){Je(r,r.return,R)}if(r===t){re=null;break}var w=r.sibling;if(w!==null){w.return=r.return,re=w;break}re=r.return}}var I_=Math.ceil,fl=Ee.ReactCurrentDispatcher,xc=Ee.ReactCurrentOwner,mn=Ee.ReactCurrentBatchConfig,De=0,yt=null,it=null,It=0,rn=0,Ns=xr(0),ct=0,jo=null,Pi=0,pl=0,Lc=0,$o=null,Ht=null,Oc=0,xs=1/0,pr=null,ml=!1,Mc=null,br=null,gl=!1,zr=null,yl=0,qo=0,Fc=null,_l=-1,vl=0;function bt(){return De&6?ze():_l!==-1?_l:_l=ze()}function Br(t){return t.mode&1?De&2&&It!==0?It&-It:o_.transition!==null?(vl===0&&(vl=gi()),vl):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:_o(t.type)),t):1}function Nn(t,r,o,u){if(50<qo)throw qo=0,Fc=null,Error(n(185));Ar(t,o,u),(!(De&2)||t!==yt)&&(t===yt&&(!(De&2)&&(pl|=o),ct===4&&jr(t,It)),Wt(t,u),o===1&&De===0&&!(r.mode&1)&&(xs=ze()+500,Ka&&Or()))}function Wt(t,r){var o=t.callbackNode;nr(t,r);var u=mi(t,t===yt?It:0);if(u===0)o!==null&&fo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&fo(o),r===1)t.tag===0?s_(hp.bind(null,t)):Gd(hp.bind(null,t)),t_(function(){!(De&6)&&Or()}),o=null;else{switch(Cr(u)){case 1:o=fi;break;case 4:o=Tr;break;case 16:o=ln;break;case 536870912:o=va;break;default:o=ln}o=vp(o,cp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function cp(t,r){if(_l=-1,vl=0,De&6)throw Error(n(327));var o=t.callbackNode;if(Ls()&&t.callbackNode!==o)return null;var u=mi(t,t===yt?It:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=El(t,u);else{r=u;var h=De;De|=2;var p=fp();(yt!==t||It!==r)&&(pr=null,xs=ze()+500,Vi(t,r));do try{R_();break}catch(w){dp(t,w)}while(!0);tc(),fl.current=p,De=h,it!==null?r=0:(yt=null,It=0,r=ct)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=Uc(t,h))),r===1)throw o=jo,Vi(t,0),jr(t,u),Wt(t,ze()),o;if(r===6)jr(t,u);else{if(h=t.current.alternate,!(u&30)&&!S_(h)&&(r=El(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=Uc(t,p))),r===1))throw o=jo,Vi(t,0),jr(t,u),Wt(t,ze()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Di(t,Ht,pr);break;case 3:if(jr(t,u),(u&130023424)===u&&(r=Oc+500-ze(),10<r)){if(mi(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){bt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=qu(Di.bind(null,t,Ht,pr),r);break}Di(t,Ht,pr);break;case 4:if(jr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-Mt(u);p=1<<_,_=r[_],_>h&&(h=_),u&=~p}if(u=h,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*I_(u/1960))-u,10<u){t.timeoutHandle=qu(Di.bind(null,t,Ht,pr),u);break}Di(t,Ht,pr);break;case 5:Di(t,Ht,pr);break;default:throw Error(n(329))}}}return Wt(t,ze()),t.callbackNode===o?cp.bind(null,t):null}function Uc(t,r){var o=$o;return t.current.memoizedState.isDehydrated&&(Vi(t,r).flags|=256),t=El(t,r),t!==2&&(r=Ht,Ht=o,r!==null&&bc(r)),t}function bc(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function S_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Cn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(t,r){for(r&=~Lc,r&=~pl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Mt(r),u=1<<o;t[o]=-1,r&=~u}}function hp(t){if(De&6)throw Error(n(327));Ls();var r=mi(t,0);if(!(r&1))return Wt(t,ze()),null;var o=El(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=Uc(t,u))}if(o===1)throw o=jo,Vi(t,0),jr(t,r),Wt(t,ze()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Di(t,Ht,pr),Wt(t,ze()),null}function zc(t,r){var o=De;De|=1;try{return t(r)}finally{De=o,De===0&&(xs=ze()+500,Ka&&Or())}}function ki(t){zr!==null&&zr.tag===0&&!(De&6)&&Ls();var r=De;De|=1;var o=mn.transition,u=Ae;try{if(mn.transition=null,Ae=1,t)return t()}finally{Ae=u,mn.transition=o,De=r,!(De&6)&&Or()}}function Bc(){rn=Ns.current,qe(Ns)}function Vi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,e_(o)),it!==null)for(o=it.return;o!==null;){var u=o;switch(Xu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ha();break;case 3:ks(),qe(jt),qe(kt),uc();break;case 5:ac(u);break;case 4:ks();break;case 13:qe(Ge);break;case 19:qe(Ge);break;case 10:nc(u.type._context);break;case 22:case 23:Bc()}o=o.return}if(yt=t,it=t=$r(t.current,null),It=rn=r,ct=0,jo=null,Lc=pl=Pi=0,Ht=$o=null,Ai!==null){for(r=0;r<Ai.length;r++)if(o=Ai[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=h,u.next=_}o.pending=u}Ai=null}return t}function dp(t,r){do{var o=it;try{if(tc(),rl.current=al,il){for(var u=Xe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}il=!1}if(Ci=0,gt=ut=Xe=null,Mo=!1,Fo=0,xc.current=null,o===null||o.return===null){ct=1,jo=r,it=null;break}e:{var p=t,_=o.return,w=o,R=r;if(r=It,w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var U=R,q=w,K=q.tag;if(!(q.mode&1)&&(K===0||K===11||K===15)){var $=q.alternate;$?(q.updateQueue=$.updateQueue,q.memoizedState=$.memoizedState,q.lanes=$.lanes):(q.updateQueue=null,q.memoizedState=null)}var Z=Ff(_);if(Z!==null){Z.flags&=-257,Uf(Z,_,w,p,r),Z.mode&1&&Mf(p,U,r),r=Z,R=U;var ie=r.updateQueue;if(ie===null){var se=new Set;se.add(R),r.updateQueue=se}else ie.add(R);break e}else{if(!(r&1)){Mf(p,U,r),jc();break e}R=Error(n(426))}}else if(We&&w.mode&1){var tt=Ff(_);if(tt!==null){!(tt.flags&65536)&&(tt.flags|=256),Uf(tt,_,w,p,r),Zu(Vs(R,w));break e}}p=R=Vs(R,w),ct!==4&&(ct=2),$o===null?$o=[p]:$o.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var O=Lf(p,R,r);af(p,O);break e;case 1:w=R;var C=p.type,F=p.stateNode;if(!(p.flags&128)&&(typeof C.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(br===null||!br.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var Q=Of(p,w,r);af(p,Q);break e}}p=p.return}while(p!==null)}mp(o)}catch(oe){r=oe,it===o&&o!==null&&(it=o=o.return);continue}break}while(!0)}function fp(){var t=fl.current;return fl.current=al,t===null?al:t}function jc(){(ct===0||ct===3||ct===2)&&(ct=4),yt===null||!(Pi&268435455)&&!(pl&268435455)||jr(yt,It)}function El(t,r){var o=De;De|=2;var u=fp();(yt!==t||It!==r)&&(pr=null,Vi(t,r));do try{A_();break}catch(h){dp(t,h)}while(!0);if(tc(),De=o,fl.current=u,it!==null)throw Error(n(261));return yt=null,It=0,ct}function A_(){for(;it!==null;)pp(it)}function R_(){for(;it!==null&&!ya();)pp(it)}function pp(t){var r=_p(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?mp(t):it=r,xc.current=null}function mp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=v_(o,r),o!==null){o.flags&=32767,it=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,it=null;return}}else if(o=__(o,r,rn),o!==null){it=o;return}if(r=r.sibling,r!==null){it=r;return}it=r=t}while(r!==null);ct===0&&(ct=5)}function Di(t,r,o){var u=Ae,h=mn.transition;try{mn.transition=null,Ae=1,C_(t,r,o,u)}finally{mn.transition=h,Ae=u}return null}function C_(t,r,o,u){do Ls();while(zr!==null);if(De&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ue(t,p),t===yt&&(it=yt=null,It=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||gl||(gl=!0,vp(ln,function(){return Ls(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=mn.transition,mn.transition=null;var _=Ae;Ae=1;var w=De;De|=4,xc.current=null,w_(t,o),sp(o,t),Ky(ju),kr=!!Bu,ju=Bu=null,t.current=o,T_(o),Au(),De=w,Ae=_,mn.transition=p}else t.current=o;if(gl&&(gl=!1,zr=t,yl=h),p=t.pendingLanes,p===0&&(br=null),Ea(o.stateNode),Wt(t,ze()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(ml)throw ml=!1,t=Mc,Mc=null,t;return yl&1&&t.tag!==0&&Ls(),p=t.pendingLanes,p&1?t===Fc?qo++:(qo=0,Fc=t):qo=0,Or(),null}function Ls(){if(zr!==null){var t=Cr(yl),r=mn.transition,o=Ae;try{if(mn.transition=null,Ae=16>t?16:t,zr===null)var u=!1;else{if(t=zr,zr=null,yl=0,De&6)throw Error(n(331));var h=De;for(De|=4,re=t.current;re!==null;){var p=re,_=p.child;if(re.flags&16){var w=p.deletions;if(w!==null){for(var R=0;R<w.length;R++){var U=w[R];for(re=U;re!==null;){var q=re;switch(q.tag){case 0:case 11:case 15:Bo(8,q,p)}var K=q.child;if(K!==null)K.return=q,re=K;else for(;re!==null;){q=re;var $=q.sibling,Z=q.return;if(ep(q),q===U){re=null;break}if($!==null){$.return=Z,re=$;break}re=Z}}}var ie=p.alternate;if(ie!==null){var se=ie.child;if(se!==null){ie.child=null;do{var tt=se.sibling;se.sibling=null,se=tt}while(se!==null)}}re=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,re=_;else e:for(;re!==null;){if(p=re,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Bo(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,re=O;break e}re=p.return}}var C=t.current;for(re=C;re!==null;){_=re;var F=_.child;if(_.subtreeFlags&2064&&F!==null)F.return=_,re=F;else e:for(_=C;re!==null;){if(w=re,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:dl(9,w)}}catch(oe){Je(w,w.return,oe)}if(w===_){re=null;break e}var Q=w.sibling;if(Q!==null){Q.return=w.return,re=Q;break e}re=w.return}}if(De=h,Or(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(pi,t)}catch{}u=!0}return u}finally{Ae=o,mn.transition=r}}return!1}function gp(t,r,o){r=Vs(o,r),r=Lf(t,r,1),t=Fr(t,r,1),r=bt(),t!==null&&(Ar(t,1,r),Wt(t,r))}function Je(t,r,o){if(t.tag===3)gp(t,t,o);else for(;r!==null;){if(r.tag===3){gp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(br===null||!br.has(u))){t=Vs(o,t),t=Of(r,t,1),r=Fr(r,t,1),t=bt(),r!==null&&(Ar(r,1,t),Wt(r,t));break}}r=r.return}}function P_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=bt(),t.pingedLanes|=t.suspendedLanes&o,yt===t&&(It&o)===o&&(ct===4||ct===3&&(It&130023424)===It&&500>ze()-Oc?Vi(t,0):Lc|=o),Wt(t,r)}function yp(t,r){r===0&&(t.mode&1?(r=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):r=1);var o=bt();t=hr(t,r),t!==null&&(Ar(t,r,o),Wt(t,o))}function k_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),yp(t,o)}function V_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),yp(t,o)}var _p;_p=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||jt.current)qt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return qt=!1,y_(t,r,o);qt=!!(t.flags&131072)}else qt=!1,We&&r.flags&1048576&&Xd(r,Ga,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;cl(t,r),t=r.pendingProps;var h=Ts(r,kt.current);Ps(r,o),h=dc(null,r,u,t,h,o);var p=fc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,$t(u)?(p=!0,Wa(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,sc(r),h.updater=ll,r.stateNode=h,h._reactInternals=r,vc(r,u,t,o),r=Ic(null,r,u,!0,p,o)):(r.tag=0,We&&p&&Gu(r),Ut(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(cl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=N_(u),t=kn(u,t),h){case 0:r=Tc(null,r,u,t,o);break e;case 1:r=qf(null,r,u,t,o);break e;case 11:r=bf(null,r,u,t,o);break e;case 14:r=zf(null,r,u,kn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),Tc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),qf(t,r,u,h,o);case 3:e:{if(Hf(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,of(t,r),tl(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Vs(Error(n(423)),r),r=Wf(t,r,u,o,h);break e}else if(u!==h){h=Vs(Error(n(424)),r),r=Wf(t,r,u,o,h);break e}else for(nn=Nr(r.stateNode.containerInfo.firstChild),tn=r,We=!0,Pn=null,o=rf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(As(),u===h){r=fr(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return uf(r),t===null&&Ju(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,$u(u,h)?_=null:p!==null&&$u(u,p)&&(r.flags|=32),$f(t,r),Ut(t,r,_,o),r.child;case 6:return t===null&&Ju(r),null;case 13:return Kf(t,r,o);case 4:return oc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Rs(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),bf(t,r,u,h,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,Be(Ja,u._currentValue),u._currentValue=_,p!==null)if(Cn(p.value,_)){if(p.children===h.children&&!jt.current){r=fr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var w=p.dependencies;if(w!==null){_=p.child;for(var R=w.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=dr(-1,o&-o),R.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var q=U.pending;q===null?R.next=R:(R.next=q.next,q.next=R),U.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),rc(p.return,o,r),w.lanes|=o;break}R=R.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,w=_.alternate,w!==null&&(w.lanes|=o),rc(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Ut(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Ps(r,o),h=fn(h),u=u(h),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,h=kn(u,r.pendingProps),h=kn(u.type,h),zf(t,r,u,h,o);case 15:return Bf(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),cl(t,r),r.tag=1,$t(u)?(t=!0,Wa(r)):t=!1,Ps(r,o),Nf(r,u,h),vc(r,u,h,o),Ic(null,r,u,!0,t,o);case 19:return Gf(t,r,o);case 22:return jf(t,r,o)}throw Error(n(156,r.tag))};function vp(t,r){return ts(t,r)}function D_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,o,u){return new D_(t,r,o,u)}function $c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function N_(t){if(typeof t=="function")return $c(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x)return 11;if(t===Ct)return 14}return 2}function $r(t,r){var o=t.alternate;return o===null?(o=gn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function wl(t,r,o,u,h,p){var _=2;if(u=t,typeof t=="function")$c(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case k:return Ni(o.children,h,p,r);case I:_=8,h|=8;break;case A:return t=gn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=gn(13,o,r,h),t.elementType=S,t.lanes=p,t;case Ze:return t=gn(19,o,r,h),t.elementType=Ze,t.lanes=p,t;case Fe:return Tl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:_=10;break e;case D:_=9;break e;case x:_=11;break e;case Ct:_=14;break e;case Pt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=gn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ni(t,r,o,u){return t=gn(7,t,u,r),t.lanes=o,t}function Tl(t,r,o,u){return t=gn(22,t,u,r),t.elementType=Fe,t.lanes=o,t.stateNode={isHidden:!1},t}function qc(t,r,o){return t=gn(6,t,null,r),t.lanes=o,t}function Hc(t,r,o){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function x_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sr(0),this.expirationTimes=Sr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Wc(t,r,o,u,h,p,_,w,R){return t=new x_(t,r,o,w,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=gn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},sc(p),t}function L_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_e,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Ep(t){if(!t)return Lr;t=t._reactInternals;e:{if(En(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if($t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if($t(o))return Kd(t,o,r)}return r}function wp(t,r,o,u,h,p,_,w,R){return t=Wc(o,u,!0,t,h,p,_,w,R),t.context=Ep(null),o=t.current,u=bt(),h=Br(o),p=dr(u,h),p.callback=r??null,Fr(o,p,h),t.current.lanes=h,Ar(t,h,u),Wt(t,u),t}function Il(t,r,o,u){var h=r.current,p=bt(),_=Br(h);return o=Ep(o),r.context===null?r.context=o:r.pendingContext=o,r=dr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Fr(h,r,_),t!==null&&(Nn(t,h,_,p),el(t,h,_)),_}function Sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Kc(t,r){Tp(t,r),(t=t.alternate)&&Tp(t,r)}var Ip=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qc(t){this._internalRoot=t}Al.prototype.render=Qc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Il(t,r,null,null)},Al.prototype.unmount=Qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ki(function(){Il(null,t,null,null)}),r[ar]=null}};function Al(t){this._internalRoot=t}Al.prototype.unstable_scheduleHydration=function(t){if(t){var r=Aa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Fn.length&&r!==0&&r<Fn[o].priority;o++);Fn.splice(o,0,t),o===0&&Pa(t)}};function Gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sp(){}function O_(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var U=Sl(_);p.call(U)}}var _=wp(r,u,t,0,null,!1,!1,"",Sp);return t._reactRootContainer=_,t[ar]=_.current,Po(t.nodeType===8?t.parentNode:t),ki(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var U=Sl(R);w.call(U)}}var R=Wc(t,0,!1,null,null,!1,!1,"",Sp);return t._reactRootContainer=R,t[ar]=R.current,Po(t.nodeType===8?t.parentNode:t),ki(function(){Il(r,R,o,u)}),R}function Cl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var w=h;h=function(){var R=Sl(_);w.call(R)}}Il(r,_,t,h)}else _=O_(o,r,t,h,u);return Sl(_)}Ia=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ir(r.pendingLanes);o!==0&&(Rr(r,o|1),Wt(r,ze()),!(De&6)&&(xs=ze()+500,Or()))}break;case 13:ki(function(){var u=hr(t,1);if(u!==null){var h=bt();Nn(u,t,1,h)}}),Kc(t,1)}},is=function(t){if(t.tag===13){var r=hr(t,134217728);if(r!==null){var o=bt();Nn(r,t,134217728,o)}Kc(t,134217728)}},Sa=function(t){if(t.tag===13){var r=Br(t),o=hr(t,r);if(o!==null){var u=bt();Nn(o,t,r,u)}Kc(t,r)}},Aa=function(){return Ae},Ra=function(t,r){var o=Ae;try{return Ae=t,r()}finally{Ae=o}},Gi=function(t,r,o){switch(r){case"input":if(Js(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=qa(u);if(!h)throw Error(n(90));$i(u),Js(u,h)}}}break;case"textarea":Ki(t,o);break;case"select":r=o.value,r!=null&&Zn(t,!!o.multiple,r,!1)}},ui=zc,lo=ki;var M_={usingClientEntryPoint:!1,Events:[Do,Es,qa,On,ao,zc]},Ho={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F_={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ho(t),t===null?null:t.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{pi=Pl.inject(F_),Yt=Pl}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M_,Kt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gc(r))throw Error(n(200));return L_(t,r,null,o)},Kt.createRoot=function(t,r){if(!Gc(t))throw Error(n(299));var o=!1,u="",h=Ip;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Wc(t,1,!1,null,null,o,!1,u,h),t[ar]=r.current,Po(t.nodeType===8?t.parentNode:t),new Qc(r)},Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ho(r),t=t===null?null:t.stateNode,t},Kt.flushSync=function(t){return ki(t)},Kt.hydrate=function(t,r,o){if(!Rl(r))throw Error(n(200));return Cl(null,t,r,!0,o)},Kt.hydrateRoot=function(t,r,o){if(!Gc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",_=Ip;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=wp(r,null,t,1,o??null,h,!1,p,_),t[ar]=r.current,Po(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Al(r)},Kt.render=function(t,r,o){if(!Rl(r))throw Error(n(200));return Cl(null,t,r,!1,o)},Kt.unmountComponentAtNode=function(t){if(!Rl(t))throw Error(n(40));return t._reactRootContainer?(ki(function(){Cl(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1},Kt.unstable_batchedUpdates=zc,Kt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Rl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Cl(t,r,o,!1,u)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var Np;function H_(){if(Np)return Jc.exports;Np=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jc.exports=q_(),Jc.exports}var xp;function W_(){if(xp)return kl;xp=1;var i=H_();return kl.createRoot=i.createRoot,kl.hydrateRoot=i.hydrateRoot,kl}var K_=W_(),Lp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Q_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],d=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},zm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],d=a+1<i.length,m=d?i[a+1]:0,y=a+2<i.length,v=y?i[a+2]:0,T=c>>2,V=(c&3)<<4|m>>4;let M=(m&15)<<2|v>>6,z=v&63;y||(z=64,d||(M=64)),s.push(n[T],n[V],n[M],n[z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(bm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Q_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const V=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||V==null)throw new G_;const M=c<<2|m>>4;if(s.push(M),v!==64){const z=m<<4&240|v>>2;if(s.push(z),V!==64){const G=v<<6&192|V;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class G_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X_=function(i){const e=bm(i);return zm.encodeByteArray(e,!0)},$l=function(i){return X_(i).replace(/\./g,"")},Y_=function(i){try{return zm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=()=>J_().__FIREBASE_DEFAULTS__,ev=()=>{if(typeof process>"u"||typeof Lp>"u")return;const i=Lp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},tv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Y_(i[1]);return e&&JSON.parse(e)},Oh=()=>{try{return Z_()||ev()||tv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},nv=i=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},rv=i=>{const e=nv(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Bm=()=>{var i;return(i=Oh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[$l(JSON.stringify(n)),$l(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function av(){var i;const e=(i=Oh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lv(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function uv(){return!av()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jm(){try{return typeof indexedDB=="object"}catch{return!1}}function $m(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}function cv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="FirebaseError";class ni extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=hv,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?dv(c,s):"Error",m=`${this.serviceName}: ${d} (${a}).`;return new ni(a,m,s)}}function dv(i,e){return i.replace(fv,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const fv=/\{\$([^}]+)}/g;function ql(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],d=e[a];if(Op(c)&&Op(d)){if(!ql(c,d))return!1}else if(c!==d)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Op(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=1e3,mv=2,gv=4*60*60*1e3,yv=.5;function Mp(i,e=pv,n=mv){const s=e*Math.pow(n,i),a=Math.round(yv*s*(Math.random()-.5)*2);return Math.min(gv,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i){return i&&i._delegate?i._delegate:i}class gr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new iv;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ev(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const d=this.instances.get(a);return d&&e(d,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vv(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vv(i){return i===xi?void 0:i}function Ev(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _v(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const Tv={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Iv=Ve.INFO,Sv={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Av=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Sv[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mh{constructor(e){this.name=e,this._logLevel=Iv,this._logHandler=Av,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Rv=(i,e)=>e.some(n=>i instanceof n);let Fp,Up;function Cv(){return Fp||(Fp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pv(){return Up||(Up=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qm=new WeakMap,dh=new WeakMap,Hm=new WeakMap,th=new WeakMap,Fh=new WeakMap;function kv(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(Wr(i.result)),a()},d=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&qm.set(n,i)}).catch(()=>{}),Fh.set(e,i),e}function Vv(i){if(dh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),a()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});dh.set(i,e)}let fh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return dh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Hm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Dv(i){fh=i(fh)}function Nv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(nh(this),e,...n);return Hm.set(s,e.sort?e.sort():[e]),Wr(s)}:Pv().includes(i)?function(...e){return i.apply(nh(this),e),Wr(qm.get(this))}:function(...e){return Wr(i.apply(nh(this),e))}}function xv(i){return typeof i=="function"?Nv(i):(i instanceof IDBTransaction&&Vv(i),Rv(i,Cv())?new Proxy(i,fh):i)}function Wr(i){if(i instanceof IDBRequest)return kv(i);if(th.has(i))return th.get(i);const e=xv(i);return e!==i&&(th.set(i,e),Fh.set(e,i)),e}const nh=i=>Fh.get(i);function Wm(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const d=indexedDB.open(i,e),m=Wr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Wr(d.result),y.oldVersion,y.newVersion,Wr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const Lv=["get","getKey","getAll","getAllKeys","count"],Ov=["put","add","delete","clear"],rh=new Map;function bp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(rh.get(e))return rh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Ov.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Lv.includes(n)))return;const c=async function(d,...m){const y=this.transaction(d,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&y.done]))[0]};return rh.set(e,c),c}Dv(i=>({...i,get:(e,n,s)=>bp(e,n)||i.get(e,n,s),has:(e,n)=>!!bp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Fv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Fv(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ph="@firebase/app",zp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new Mh("@firebase/app"),Uv="@firebase/app-compat",bv="@firebase/analytics-compat",zv="@firebase/analytics",Bv="@firebase/app-check-compat",jv="@firebase/app-check",$v="@firebase/auth",qv="@firebase/auth-compat",Hv="@firebase/database",Wv="@firebase/data-connect",Kv="@firebase/database-compat",Qv="@firebase/functions",Gv="@firebase/functions-compat",Xv="@firebase/installations",Yv="@firebase/installations-compat",Jv="@firebase/messaging",Zv="@firebase/messaging-compat",e0="@firebase/performance",t0="@firebase/performance-compat",n0="@firebase/remote-config",r0="@firebase/remote-config-compat",i0="@firebase/storage",s0="@firebase/storage-compat",o0="@firebase/firestore",a0="@firebase/vertexai",l0="@firebase/firestore-compat",u0="firebase",c0="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="[DEFAULT]",h0={[ph]:"fire-core",[Uv]:"fire-core-compat",[zv]:"fire-analytics",[bv]:"fire-analytics-compat",[jv]:"fire-app-check",[Bv]:"fire-app-check-compat",[$v]:"fire-auth",[qv]:"fire-auth-compat",[Hv]:"fire-rtdb",[Wv]:"fire-data-connect",[Kv]:"fire-rtdb-compat",[Qv]:"fire-fn",[Gv]:"fire-fn-compat",[Xv]:"fire-iid",[Yv]:"fire-iid-compat",[Jv]:"fire-fcm",[Zv]:"fire-fcm-compat",[e0]:"fire-perf",[t0]:"fire-perf-compat",[n0]:"fire-rc",[r0]:"fire-rc-compat",[i0]:"fire-gcs",[s0]:"fire-gcs-compat",[o0]:"fire-fst",[l0]:"fire-fst-compat",[a0]:"fire-vertex","fire-js":"fire-js",[u0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new Map,d0=new Map,gh=new Map;function Bp(i,e){try{i.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Xr(i){const e=i.name;if(gh.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;gh.set(e,i);for(const n of Hl.values())Bp(n,i);for(const n of d0.values())Bp(n,i);return!0}function la(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new iu("app","Firebase",f0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=c0;function Km(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:mh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=Bm()),!n)throw Kr.create("no-options");const c=Hl.get(a);if(c){if(ql(n,c.options)&&ql(s,c.config))return c;throw Kr.create("duplicate-app",{appName:a})}const d=new wv(a);for(const y of gh.values())d.addComponent(y);const m=new p0(n,s,d);return Hl.set(a,m),m}function Qm(i=mh){const e=Hl.get(i);if(!e&&i===mh&&Bm())return Km();if(!e)throw Kr.create("no-app",{appName:i});return e}function Hn(i,e,n){var s;let a=(s=h0[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(m.join(" "));return}Xr(new gr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="firebase-heartbeat-database",y0=1,ta="firebase-heartbeat-store";let ih=null;function Gm(){return ih||(ih=Wm(g0,y0,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ta)}catch(n){console.warn(n)}}}}).catch(i=>{throw Kr.create("idb-open",{originalErrorMessage:i.message})})),ih}async function _0(i){try{const n=(await Gm()).transaction(ta),s=await n.objectStore(ta).get(Xm(i));return await n.done,s}catch(e){if(e instanceof ni)yr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function jp(i,e){try{const s=(await Gm()).transaction(ta,"readwrite");await s.objectStore(ta).put(e,Xm(i)),await s.done}catch(n){if(n instanceof ni)yr.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(s.message)}}}function Xm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=1024,E0=30*24*60*60*1e3;class w0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=$p();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const m=new Date(d.date).valueOf();return Date.now()-m<=E0}),this._storage.overwrite(this._heartbeatsCache))}catch(s){yr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$p(),{heartbeatsToSend:s,unsentEntries:a}=T0(this._heartbeatsCache.heartbeats),c=$l(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return yr.warn(n),""}}}function $p(){return new Date().toISOString().substring(0,10)}function T0(i,e=v0){const n=[];let s=i.slice();for(const a of i){const c=n.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),qp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),qp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class I0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jm()?$m().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return jp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return jp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function qp(i){return $l(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(i){Xr(new gr("platform-logger",e=>new Mv(e),"PRIVATE")),Xr(new gr("heartbeat",e=>new w0(e),"PRIVATE")),Hn(ph,zp,i),Hn(ph,zp,"esm2017"),Hn("fire-js","")}S0("");var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mi,Ym;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function A(){}A.prototype=I.prototype,k.D=I.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(P,D,x){for(var S=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)S[Ze-2]=arguments[Ze];return I.prototype[D].apply(P,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,I,A){A||(A=0);var P=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)P[D]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(D=0;16>D;++D)P[D]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=k.g[0],A=k.g[1],D=k.g[2];var x=k.g[3],S=I+(x^A&(D^x))+P[0]+3614090360&4294967295;I=A+(S<<7&4294967295|S>>>25),S=x+(D^I&(A^D))+P[1]+3905402710&4294967295,x=I+(S<<12&4294967295|S>>>20),S=D+(A^x&(I^A))+P[2]+606105819&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(I^D&(x^I))+P[3]+3250441966&4294967295,A=D+(S<<22&4294967295|S>>>10),S=I+(x^A&(D^x))+P[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(D^I&(A^D))+P[5]+1200080426&4294967295,x=I+(S<<12&4294967295|S>>>20),S=D+(A^x&(I^A))+P[6]+2821735955&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(I^D&(x^I))+P[7]+4249261313&4294967295,A=D+(S<<22&4294967295|S>>>10),S=I+(x^A&(D^x))+P[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(D^I&(A^D))+P[9]+2336552879&4294967295,x=I+(S<<12&4294967295|S>>>20),S=D+(A^x&(I^A))+P[10]+4294925233&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(I^D&(x^I))+P[11]+2304563134&4294967295,A=D+(S<<22&4294967295|S>>>10),S=I+(x^A&(D^x))+P[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(D^I&(A^D))+P[13]+4254626195&4294967295,x=I+(S<<12&4294967295|S>>>20),S=D+(A^x&(I^A))+P[14]+2792965006&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(I^D&(x^I))+P[15]+1236535329&4294967295,A=D+(S<<22&4294967295|S>>>10),S=I+(D^x&(A^D))+P[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(I^A))+P[6]+3225465664&4294967295,x=I+(S<<9&4294967295|S>>>23),S=D+(I^A&(x^I))+P[11]+643717713&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(D^x))+P[0]+3921069994&4294967295,A=D+(S<<20&4294967295|S>>>12),S=I+(D^x&(A^D))+P[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(I^A))+P[10]+38016083&4294967295,x=I+(S<<9&4294967295|S>>>23),S=D+(I^A&(x^I))+P[15]+3634488961&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(D^x))+P[4]+3889429448&4294967295,A=D+(S<<20&4294967295|S>>>12),S=I+(D^x&(A^D))+P[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(I^A))+P[14]+3275163606&4294967295,x=I+(S<<9&4294967295|S>>>23),S=D+(I^A&(x^I))+P[3]+4107603335&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(D^x))+P[8]+1163531501&4294967295,A=D+(S<<20&4294967295|S>>>12),S=I+(D^x&(A^D))+P[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(I^A))+P[2]+4243563512&4294967295,x=I+(S<<9&4294967295|S>>>23),S=D+(I^A&(x^I))+P[7]+1735328473&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(D^x))+P[12]+2368359562&4294967295,A=D+(S<<20&4294967295|S>>>12),S=I+(A^D^x)+P[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^D)+P[8]+2272392833&4294967295,x=I+(S<<11&4294967295|S>>>21),S=D+(x^I^A)+P[11]+1839030562&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^I)+P[14]+4259657740&4294967295,A=D+(S<<23&4294967295|S>>>9),S=I+(A^D^x)+P[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^D)+P[4]+1272893353&4294967295,x=I+(S<<11&4294967295|S>>>21),S=D+(x^I^A)+P[7]+4139469664&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^I)+P[10]+3200236656&4294967295,A=D+(S<<23&4294967295|S>>>9),S=I+(A^D^x)+P[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^D)+P[0]+3936430074&4294967295,x=I+(S<<11&4294967295|S>>>21),S=D+(x^I^A)+P[3]+3572445317&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^I)+P[6]+76029189&4294967295,A=D+(S<<23&4294967295|S>>>9),S=I+(A^D^x)+P[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^D)+P[12]+3873151461&4294967295,x=I+(S<<11&4294967295|S>>>21),S=D+(x^I^A)+P[15]+530742520&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^I)+P[2]+3299628645&4294967295,A=D+(S<<23&4294967295|S>>>9),S=I+(D^(A|~x))+P[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~D))+P[7]+1126891415&4294967295,x=I+(S<<10&4294967295|S>>>22),S=D+(I^(x|~A))+P[14]+2878612391&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~I))+P[5]+4237533241&4294967295,A=D+(S<<21&4294967295|S>>>11),S=I+(D^(A|~x))+P[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~D))+P[3]+2399980690&4294967295,x=I+(S<<10&4294967295|S>>>22),S=D+(I^(x|~A))+P[10]+4293915773&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~I))+P[1]+2240044497&4294967295,A=D+(S<<21&4294967295|S>>>11),S=I+(D^(A|~x))+P[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~D))+P[15]+4264355552&4294967295,x=I+(S<<10&4294967295|S>>>22),S=D+(I^(x|~A))+P[6]+2734768916&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~I))+P[13]+1309151649&4294967295,A=D+(S<<21&4294967295|S>>>11),S=I+(D^(A|~x))+P[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~D))+P[11]+3174756917&4294967295,x=I+(S<<10&4294967295|S>>>22),S=D+(I^(x|~A))+P[2]+718787259&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~I))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+x&4294967295}s.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var A=I-this.blockSize,P=this.B,D=this.h,x=0;x<I;){if(D==0)for(;x<=A;)a(this,k,x),x+=this.blockSize;if(typeof k=="string"){for(;x<I;)if(P[D++]=k.charCodeAt(x++),D==this.blockSize){a(this,P),D=0;break}}else for(;x<I;)if(P[D++]=k[x++],D==this.blockSize){a(this,P),D=0;break}}this.h=D,this.o+=I},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var A=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=A&255,A/=256;for(this.u(k),k=Array(16),I=A=0;4>I;++I)for(var P=0;32>P;P+=8)k[A++]=this.g[I]>>>P&255;return k};function c(k,I){var A=m;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=I(k)}function d(k,I){this.h=I;for(var A=[],P=!0,D=k.length-1;0<=D;D--){var x=k[D]|0;P&&x==I||(A[D]=x,P=!1)}this.g=A}var m={};function y(k){return-128<=k&&128>k?c(k,function(I){return new d([I|0],0>I?-1:0)}):new d([k|0],0>k?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return V;if(0>k)return H(v(-k));for(var I=[],A=1,P=0;k>=A;P++)I[P]=k/A|0,A*=4294967296;return new d(I,0)}function T(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return H(T(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(I,8)),P=V,D=0;D<k.length;D+=8){var x=Math.min(8,k.length-D),S=parseInt(k.substring(D,D+x),I);8>x?(x=v(Math.pow(I,x)),P=P.j(x).add(v(S))):(P=P.j(A),P=P.add(v(S)))}return P}var V=y(0),M=y(1),z=y(16777216);i=d.prototype,i.m=function(){if(Y(this))return-H(this).m();for(var k=0,I=1,A=0;A<this.g.length;A++){var P=this.i(A);k+=(0<=P?P:4294967296+P)*I,I*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(G(this))return"0";if(Y(this))return"-"+H(this).toString(k);for(var I=v(Math.pow(k,6)),A=this,P="";;){var D=Ee(A,I).g;A=ve(A,D.j(I));var x=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=D,G(A))return x+P;for(;6>x.length;)x="0"+x;P=x+P}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function G(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function Y(k){return k.h==-1}i.l=function(k){return k=ve(this,k),Y(k)?-1:G(k)?0:1};function H(k){for(var I=k.g.length,A=[],P=0;P<I;P++)A[P]=~k.g[P];return new d(A,~k.h).add(M)}i.abs=function(){return Y(this)?H(this):this},i.add=function(k){for(var I=Math.max(this.g.length,k.g.length),A=[],P=0,D=0;D<=I;D++){var x=P+(this.i(D)&65535)+(k.i(D)&65535),S=(x>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);P=S>>>16,x&=65535,S&=65535,A[D]=S<<16|x}return new d(A,A[A.length-1]&-2147483648?-1:0)};function ve(k,I){return k.add(H(I))}i.j=function(k){if(G(this)||G(k))return V;if(Y(this))return Y(k)?H(this).j(H(k)):H(H(this).j(k));if(Y(k))return H(this.j(H(k)));if(0>this.l(z)&&0>k.l(z))return v(this.m()*k.m());for(var I=this.g.length+k.g.length,A=[],P=0;P<2*I;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<k.g.length;D++){var x=this.i(P)>>>16,S=this.i(P)&65535,Ze=k.i(D)>>>16,Ct=k.i(D)&65535;A[2*P+2*D]+=S*Ct,ee(A,2*P+2*D),A[2*P+2*D+1]+=x*Ct,ee(A,2*P+2*D+1),A[2*P+2*D+1]+=S*Ze,ee(A,2*P+2*D+1),A[2*P+2*D+2]+=x*Ze,ee(A,2*P+2*D+2)}for(P=0;P<I;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=I;P<2*I;P++)A[P]=0;return new d(A,0)};function ee(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function fe(k,I){this.g=k,this.h=I}function Ee(k,I){if(G(I))throw Error("division by zero");if(G(k))return new fe(V,V);if(Y(k))return I=Ee(H(k),I),new fe(H(I.g),H(I.h));if(Y(I))return I=Ee(k,H(I)),new fe(H(I.g),I.h);if(30<k.g.length){if(Y(k)||Y(I))throw Error("slowDivide_ only works with positive integers.");for(var A=M,P=I;0>=P.l(k);)A=je(A),P=je(P);var D=_e(A,1),x=_e(P,1);for(P=_e(P,2),A=_e(A,2);!G(P);){var S=x.add(P);0>=S.l(k)&&(D=D.add(A),x=S),P=_e(P,1),A=_e(A,1)}return I=ve(k,D.j(I)),new fe(D,I)}for(D=V;0<=k.l(I);){for(A=Math.max(1,Math.floor(k.m()/I.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),x=v(A),S=x.j(I);Y(S)||0<S.l(k);)A-=P,x=v(A),S=x.j(I);G(x)&&(x=M),D=D.add(x),k=ve(k,S)}return new fe(D,k)}i.A=function(k){return Ee(this,k).h},i.and=function(k){for(var I=Math.max(this.g.length,k.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)&k.i(P);return new d(A,this.h&k.h)},i.or=function(k){for(var I=Math.max(this.g.length,k.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)|k.i(P);return new d(A,this.h|k.h)},i.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)^k.i(P);return new d(A,this.h^k.h)};function je(k){for(var I=k.g.length+1,A=[],P=0;P<I;P++)A[P]=k.i(P)<<1|k.i(P-1)>>>31;return new d(A,k.h)}function _e(k,I){var A=I>>5;I%=32;for(var P=k.g.length-A,D=[],x=0;x<P;x++)D[x]=0<I?k.i(x+A)>>>I|k.i(x+A+1)<<32-I:k.i(x+A);return new d(D,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ym=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,Mi=d}).apply(typeof Hp<"u"?Hp:typeof self<"u"?self:typeof window<"u"?window:{});var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jm,Ko,Zm,Fl,yh,eg,tg,ng;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vl=="object"&&Vl];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,f){if(f)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in g))break e;g=g[L]}l=l[l.length-1],E=g[l],f=f(E),f!=E&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var g=0,E=!1,L={next:function(){if(!E&&g<l.length){var b=g++;return{value:f(b,l[b]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function y(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function v(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function T(l,f,g){return l.call.apply(l.bind,arguments)}function V(l,f,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function M(l,f,g){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:V,M.apply(null,arguments)}function z(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function G(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,L,b){for(var X=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)X[Me-2]=arguments[Me];return f.prototype[L].apply(E,X)}}function Y(l){const f=l.length;if(0<f){const g=Array(f);for(let E=0;E<f;E++)g[E]=l[E];return g}return[]}function H(l,f){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const L=l.length||0,b=E.length||0;l.length=L+b;for(let X=0;X<b;X++)l[L+X]=E[X]}else l.push(E)}}class ve{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function ee(l){return/^[\s\xa0]*$/.test(l)}function fe(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Ee(l){return Ee[" "](l),l}Ee[" "]=function(){};var je=fe().indexOf("Gecko")!=-1&&!(fe().toLowerCase().indexOf("webkit")!=-1&&fe().indexOf("Edge")==-1)&&!(fe().indexOf("Trident")!=-1||fe().indexOf("MSIE")!=-1)&&fe().indexOf("Edge")==-1;function _e(l,f,g){for(const E in l)f.call(g,l[E],E,l)}function k(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function I(l){const f={};for(const g in l)f[g]=l[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let g,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(g in E)l[g]=E[g];for(let b=0;b<A.length;b++)g=A[b],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function D(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function x(l){m.setTimeout(()=>{throw l},0)}function S(){var l=ue;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Ze{constructor(){this.h=this.g=null}add(f,g){const E=Ct.get();E.set(f,g),this.h?this.h.next=E:this.g=E,this.h=E}}var Ct=new ve(()=>new Pt,l=>l.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,J=!1,ue=new Ze,te=()=>{const l=m.Promise.resolve(void 0);Fe=()=>{l.then(N)}};var N=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){x(g)}var f=Ct;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}J=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,f),m.removeEventListener("test",g,f)}catch{}return l}();function Te(l,f){if(ae.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(je){e:{try{Ee(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ce[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Te.aa.h.call(this)}}G(Te,ae);var Ce={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function be(l,f,g,E,L){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!E,this.ha=L,this.key=++Le,this.da=this.fa=!1}function pt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Yn(l){this.src=l,this.g={},this.h=0}Yn.prototype.add=function(l,f,g,E,L){var b=l.toString();l=this.g[b],l||(l=this.g[b]=[],this.h++);var X=Er(l,f,E,L);return-1<X?(f=l[X],g||(f.fa=!1)):(f=new be(f,this.src,b,!!E,L),f.fa=g,l.push(f)),f};function $i(l,f){var g=f.type;if(g in l.g){var E=l.g[g],L=Array.prototype.indexOf.call(E,f,void 0),b;(b=0<=L)&&Array.prototype.splice.call(E,L,1),b&&(pt(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Er(l,f,g,E){for(var L=0;L<l.length;++L){var b=l[L];if(!b.da&&b.listener==f&&b.capture==!!g&&b.ha==E)return L}return-1}var si="closure_lm_"+(1e6*Math.random()|0),qi={};function Ys(l,f,g,E,L){if(Array.isArray(f)){for(var b=0;b<f.length;b++)Ys(l,f[b],g,E,L);return null}return g=eo(g),l&&l[xe]?l.K(f,g,v(E)?!!E.capture:!!E,L):Js(l,f,g,!1,E,L)}function Js(l,f,g,E,L,b){if(!f)throw Error("Invalid event type");var X=v(L)?!!L.capture:!!L,Me=Wi(l);if(Me||(l[si]=Me=new Yn(l)),g=Me.add(f,g,E,X,b),g.proxy)return g;if(E=pa(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)we||(L=X),L===void 0&&(L=!1),l.addEventListener(f.toString(),E,L);else if(l.attachEvent)l.attachEvent(Zn(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function pa(){function l(g){return f.call(l.src,l.listener,g)}const f=Zs;return l}function Hi(l,f,g,E,L){if(Array.isArray(f))for(var b=0;b<f.length;b++)Hi(l,f[b],g,E,L);else E=v(E)?!!E.capture:!!E,g=eo(g),l&&l[xe]?(l=l.i,f=String(f).toString(),f in l.g&&(b=l.g[f],g=Er(b,g,E,L),-1<g&&(pt(b[g]),Array.prototype.splice.call(b,g,1),b.length==0&&(delete l.g[f],l.h--)))):l&&(l=Wi(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Er(f,g,E,L)),(g=-1<l?f[l]:null)&&Jn(g))}function Jn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[xe])$i(f.i,l);else{var g=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(g,E,l.capture):f.detachEvent?f.detachEvent(Zn(g),E):f.addListener&&f.removeListener&&f.removeListener(E),(g=Wi(f))?($i(g,l),g.h==0&&(g.src=null,f[si]=null)):pt(l)}}}function Zn(l){return l in qi?qi[l]:qi[l]="on"+l}function Zs(l,f){if(l.da)l=!0;else{f=new Te(f,this);var g=l.listener,E=l.ha||l.src;l.fa&&Jn(l),l=g.call(E,f)}return l}function Wi(l){return l=l[si],l instanceof Yn?l:null}var Ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(l){return typeof l=="function"?l:(l[Ki]||(l[Ki]=function(f){return l.handleEvent(f)}),l[Ki])}function ot(){j.call(this),this.i=new Yn(this),this.M=this,this.F=null}G(ot,j),ot.prototype[xe]=!0,ot.prototype.removeEventListener=function(l,f,g,E){Hi(this,l,f,g,E)};function at(l,f){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new ae(f,l);else if(f instanceof ae)f.target=f.target||l;else{var L=f;f=new ae(E,l),P(f,L)}if(L=!0,g)for(var b=g.length-1;0<=b;b--){var X=f.g=g[b];L=er(X,E,!0,f)&&L}if(X=f.g=l,L=er(X,E,!0,f)&&L,L=er(X,E,!1,f)&&L,g)for(b=0;b<g.length;b++)X=f.g=g[b],L=er(X,E,!1,f)&&L}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],E=0;E<g.length;E++)pt(g[E]);delete l.g[f],l.h--}}this.F=null},ot.prototype.K=function(l,f,g,E){return this.i.add(String(l),f,!1,g,E)},ot.prototype.L=function(l,f,g,E){return this.i.add(String(l),f,!0,g,E)};function er(l,f,g,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,b=0;b<f.length;++b){var X=f[b];if(X&&!X.da&&X.capture==g){var Me=X.listener,lt=X.ha||X.src;X.fa&&$i(l.i,X),L=Me.call(lt,E)!==!1&&L}}return L&&!E.defaultPrevented}function to(l,f,g){if(typeof l=="function")g&&(l=M(l,g));else if(l&&typeof l.handleEvent=="function")l=M(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function wr(l){l.g=to(()=>{l.g=null,l.i&&(l.i=!1,wr(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class oi extends j{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:wr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(l){j.call(this),this.h=l,this.g={}}G(ai,j);var no=[];function ro(l){_e(l.g,function(f,g){this.g.hasOwnProperty(g)&&Jn(f)},l),l.g={}}ai.prototype.N=function(){ai.aa.N.call(this),ro(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var io=m.JSON.stringify,so=m.JSON.parse,oo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function li(){}li.prototype.h=null;function Qi(l){return l.h||(l.h=l.i())}function Gi(){}var an={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ln(){ae.call(this,"d")}G(Ln,ae);function Xi(){ae.call(this,"c")}G(Xi,ae);var On={},ao=null;function ui(){return ao=ao||new ot}On.La="serverreachability";function lo(l){ae.call(this,On.La,l)}G(lo,ae);function tr(l){const f=ui();at(f,new lo(f))}On.STAT_EVENT="statevent";function uo(l,f){ae.call(this,On.STAT_EVENT,l),this.stat=f}G(uo,ae);function et(l){const f=ui();at(f,new uo(f,l))}On.Ma="timingevent";function Yi(l,f){ae.call(this,On.Ma,l),this.size=f}G(Yi,ae);function _n(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function ci(){this.g=!0}ci.prototype.xa=function(){this.g=!1};function hi(l,f,g,E,L,b){l.info(function(){if(l.g)if(b)for(var X="",Me=b.split("&"),lt=0;lt<Me.length;lt++){var Pe=Me[lt].split("=");if(1<Pe.length){var mt=Pe[0];Pe=Pe[1];var rt=mt.split("_");X=2<=rt.length&&rt[1]=="type"?X+(mt+"="+Pe+"&"):X+(mt+"=redacted&")}}else X=null;else X=b;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+f+`
`+g+`
`+X})}function Ji(l,f,g,E,L,b,X){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+f+`
`+g+`
`+b+" "+X})}function vn(l,f,g,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Su(l,g)+(E?" "+E:"")})}function co(l,f){l.info(function(){return"TIMEOUT: "+f})}ci.prototype.info=function(){};function Su(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var b=L[0];if(b!="noop"&&b!="stop"&&b!="close")for(var X=1;X<L.length;X++)L[X]=""}}}}return io(g)}catch{return f}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ma={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},En;function di(){}G(di,li),di.prototype.g=function(){return new XMLHttpRequest},di.prototype.i=function(){return{}},En=new di;function wn(l,f,g,E){this.j=l,this.i=f,this.l=g,this.R=E||1,this.U=new ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ga}function ga(){this.i=null,this.g="",this.h=!1}var ho={},es={};function ts(l,f,g){l.L=1,l.v=Rr(Jt(f)),l.m=g,l.P=!0,fo(l,null)}function fo(l,f){l.F=Date.now(),ze(l),l.A=Jt(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Pr(g.i,"t",E),l.C=0,g=l.j.J,l.h=new ga,l.g=La(l.j,g?f:null,!l.m),0<l.O&&(l.M=new oi(M(l.Y,l,l.g),l.O)),f=l.U,g=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(no[0]=L.toString()),L=no);for(var b=0;b<L.length;b++){var X=Ys(g,L[b],E||f.handleEvent,!1,f.h||f);if(!X)break;f.g[X.key]=X}f=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),tr(),hi(l.i,l.u,l.A,l.l,l.R,l.m)}wn.prototype.ca=function(l){l=l.target;const f=this.M;f&&Bt(l)==3?f.j():this.Y(l)},wn.prototype.Y=function(l){try{if(l==this.g)e:{const rt=Bt(this.g);var f=this.g.Ba();const cn=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||vo(this.g)))){this.J||rt!=4||f==7||(f==8||0>=cn?tr(3):tr(2)),fi(this);var g=this.g.Z();this.X=g;t:if(ya(this)){var E=vo(this.g);l="";var L=E.length,b=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Tr(this);var X="";break t}this.h.i=new m.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(b&&f==L-1)});E.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,Ji(this.i,this.u,this.A,this.l,this.R,rt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,lt=this.g;if((Me=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Me)){var Pe=Me;break t}}Pe=null}if(g=Pe)vn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,po(this,g);else{this.o=!1,this.s=3,et(12),ln(this),Tr(this);break e}}if(this.P){g=!0;let en;for(;!this.J&&this.C<X.length;)if(en=Au(this,X),en==es){rt==4&&(this.s=4,et(14),g=!1),vn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==ho){this.s=4,et(15),vn(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else vn(this.i,this.l,en,null),po(this,en);if(ya(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||X.length!=0||this.h.h||(this.s=1,et(16),g=!1),this.o=this.o&&g,!g)vn(this.i,this.l,X,"[Invalid Chunked Response]"),ln(this),Tr(this);else if(0<X.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),wo(mt),mt.M=!0,et(11))}}else vn(this.i,this.l,X,null),po(this,X);rt==4&&ln(this),this.o&&!this.J&&(rt==4?ds(this.j,this):(this.o=!1,ze(this)))}else as(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),ln(this),Tr(this)}}}catch{}finally{}};function ya(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Au(l,f){var g=l.C,E=f.indexOf(`
`,g);return E==-1?es:(g=Number(f.substring(g,E)),isNaN(g)?ho:(E+=1,E+g>f.length?es:(f=f.slice(E,E+g),l.C=E+g,f)))}wn.prototype.cancel=function(){this.J=!0,ln(this)};function ze(l){l.S=Date.now()+l.I,_a(l,l.I)}function _a(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=_n(M(l.ba,l),f)}function fi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}wn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(co(this.i,this.A),this.L!=2&&(tr(),et(17)),ln(this),this.s=2,Tr(this)):_a(this,this.S-l)};function Tr(l){l.j.G==0||l.J||ds(l.j,l)}function ln(l){fi(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,ro(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function po(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Mt(g.h,l))){if(!l.K&&Mt(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)hs(g),Rn(g);else break e;cs(g),et(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=_n(M(g.Za,g),6e3));if(1>=Ea(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else or(g,11)}else if((l.K||g.g==l)&&hs(g),!ee(f))for(L=g.Da.g.parse(f),f=0;f<L.length;f++){let Pe=L[f];if(g.T=Pe[0],Pe=Pe[1],g.G==2)if(Pe[0]=="c"){g.K=Pe[1],g.ia=Pe[2];const mt=Pe[3];mt!=null&&(g.la=mt,g.j.info("VER="+g.la));const rt=Pe[4];rt!=null&&(g.Aa=rt,g.j.info("SVER="+g.Aa));const cn=Pe[5];cn!=null&&typeof cn=="number"&&0<cn&&(E=1.5*cn,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const en=l.g;if(en){const Ei=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var b=E.h;b.g||Ei.indexOf("spdy")==-1&&Ei.indexOf("quic")==-1&&Ei.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(mo(b,b.h),b.h=null))}if(E.D){const ps=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;ps&&(E.ya=ps,Ue(E.I,E.D,ps))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var X=l;if(E.qa=xa(E,E.J?E.ia:null,E.W),X.K){wa(E.h,X);var Me=X,lt=E.L;lt&&(Me.I=lt),Me.B&&(fi(Me),ze(Me)),E.g=X}else vi(E);0<g.i.length&&bn(g)}else Pe[0]!="stop"&&Pe[0]!="close"||or(g,7);else g.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?or(g,7):wt(g):Pe[0]!="noop"&&g.l&&g.l.ta(Pe),g.v=0)}}tr(4)}catch{}}var va=class{constructor(l,f){this.g=l,this.map=f}};function pi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ea(l){return l.h?1:l.g?l.g.size:0}function Mt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function mo(l,f){l.g?l.g.add(f):l.h=f}function wa(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}pi.prototype.cancel=function(){if(this.i=Ta(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ta(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return Y(l.i)}function ns(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var f=[],g=l.length,E=0;E<g;E++)f.push(l[E]);return f}f=[],g=0;for(E in l)f[g++]=l[E];return f}function rs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const E in l)f[g++]=E;return f}}}function Ir(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=rs(l),E=ns(l),L=E.length,b=0;b<L;b++)f.call(void 0,E[b],g&&g[b],l)}var mi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ru(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),L=null;if(0<=E){var b=l[g].substring(0,E);L=l[g].substring(E+1)}else b=l[g];f(b,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function nr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof nr){this.h=l.h,gi(this,l.j),this.o=l.o,this.g=l.g,Sr(this,l.s),this.l=l.l;var f=l.i,g=new Mn;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Ar(this,g),this.m=l.m}else l&&(f=String(l).match(mi))?(this.h=!1,gi(this,f[1]||"",!0),this.o=Ae(f[2]||""),this.g=Ae(f[3]||"",!0),Sr(this,f[4]),this.l=Ae(f[5]||"",!0),Ar(this,f[6]||"",!0),this.m=Ae(f[7]||"")):(this.h=!1,this.i=new Mn(null,this.h))}nr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Cr(f,is,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Cr(f,is,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Cr(g,g.charAt(0)=="/"?Aa:Sa,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Cr(g,go)),l.join("")};function Jt(l){return new nr(l)}function gi(l,f,g){l.j=g?Ae(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Sr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Ar(l,f,g){f instanceof Mn?(l.i=f,Fn(l.i,l.h)):(g||(f=Cr(f,Ra)),l.i=new Mn(f,l.h))}function Ue(l,f,g){l.i.set(f,g)}function Rr(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ae(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Cr(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,Ia),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ia(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var is=/[#\/\?@]/g,Sa=/[#\?:]/g,Aa=/[#\?]/g,Ra=/[#\?@]/g,go=/#/g;function Mn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Et(l){l.g||(l.g=new Map,l.h=0,l.i&&Ru(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}i=Mn.prototype,i.add=function(l,f){Et(this),this.i=null,l=un(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Tn(l,f){Et(l),f=un(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function In(l,f){return Et(l),f=un(l,f),l.g.has(f)}i.forEach=function(l,f){Et(this),this.g.forEach(function(g,E){g.forEach(function(L){l.call(f,L,E,this)},this)},this)},i.na=function(){Et(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let E=0;E<f.length;E++){const L=l[E];for(let b=0;b<L.length;b++)g.push(f[E])}return g},i.V=function(l){Et(this);let f=[];if(typeof l=="string")In(this,l)&&(f=f.concat(this.g.get(un(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},i.set=function(l,f){return Et(this),this.i=null,l=un(this,l),In(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Pr(l,f,g){Tn(l,f),0<g.length&&(l.i=null,l.g.set(un(l,f),Y(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var E=f[g];const b=encodeURIComponent(String(E)),X=this.V(E);for(E=0;E<X.length;E++){var L=b;X[E]!==""&&(L+="="+encodeURIComponent(String(X[E]))),l.push(L)}}return this.i=l.join("&")};function un(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Fn(l,f){f&&!l.j&&(Et(l),l.i=null,l.g.forEach(function(g,E){var L=E.toLowerCase();E!=L&&(Tn(this,E),Pr(this,L,g))},l)),l.j=f}function Cu(l,f){const g=new ci;if(m.Image){const E=new Image;E.onload=z(zt,g,"TestLoadImage: loaded",!0,f,E),E.onerror=z(zt,g,"TestLoadImage: error",!1,f,E),E.onabort=z(zt,g,"TestLoadImage: abort",!1,f,E),E.ontimeout=z(zt,g,"TestLoadImage: timeout",!1,f,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function Ca(l,f){const g=new ci,E=new AbortController,L=setTimeout(()=>{E.abort(),zt(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(b=>{clearTimeout(L),b.ok?zt(g,"TestPingServer: ok",!0,f):zt(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),zt(g,"TestPingServer: error",!1,f)})}function zt(l,f,g,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(g)}catch{}}function Pu(){this.g=new oo}function Pa(l,f,g){const E=g||"";try{Ir(l,function(L,b){let X=L;v(L)&&(X=io(L)),f.push(E+b+"="+encodeURIComponent(X))})}catch(L){throw f.push(E+"type="+encodeURIComponent("_badmap")),L}}function rr(l){this.l=l.Ub||null,this.j=l.eb||!1}G(rr,li),rr.prototype.g=function(){return new yi(this.l,this.j)},rr.prototype.i=function(l){return function(){return l}}({});function yi(l,f){ot.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(yi,ot),i=yi.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,An(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ka(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ka(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Sn(this):An(this),this.readyState==3&&ka(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,An(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function An(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ir(l){let f="";return _e(l,function(g,E){f+=E,f+=":",f+=g,f+=`\r
`}),f}function kr(l,f,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=ir(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ue(l,f,g))}function He(l){ot.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(He,ot);var ku=/^https?$/i,yo=["POST","PUT"];i=He.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():En.g(),this.v=this.o?Qi(this.o):Qi(En),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(b){_i(this,b);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)g.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const b of E.keys())g.set(b,E.get(b));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(b=>b.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(yo,f,void 0))||E||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,X]of g)this.g.setRequestHeader(b,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(l),this.u=!1}catch(b){_i(this,b)}};function _i(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,ss(l),Zt(l)}function ss(l){l.A||(l.A=!0,at(l,"complete"),at(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,at(this,"complete"),at(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_o(this):this.bb())},i.bb=function(){_o(this)};function _o(l){if(l.h&&typeof d<"u"&&(!l.v[1]||Bt(l)!=4||l.Z()!=2)){if(l.u&&Bt(l)==4)to(l.Ea,0,l);else if(at(l,"readystatechange"),Bt(l)==4){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var E;if(E=X===0){var L=String(l.D).match(mi)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),E=!ku.test(L?L.toLowerCase():"")}g=E}if(g)at(l,"complete"),at(l,"success");else{l.m=6;try{var b=2<Bt(l)?l.g.statusText:""}catch{b=""}l.l=b+" ["+l.Z()+"]",ss(l)}}finally{Zt(l)}}}}function Zt(l,f){if(l.g){os(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||at(l,"ready");try{g.onreadystatechange=E}catch{}}}function os(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),so(f)}};function vo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function as(l){const f={};l=(l.g&&2<=Bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(ee(l[E]))continue;var g=D(l[E]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const b=f[L]||[];f[L]=b,b.push(g)}k(f,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Un(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Eo(l){this.Aa=0,this.i=[],this.j=new ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Un("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Un("baseRetryDelayMs",5e3,l),this.cb=Un("retryDelaySeedMs",1e4,l),this.Wa=Un("forwardChannelMaxRetries",2,l),this.wa=Un("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(l&&l.concurrentRequestLimit),this.Da=new Pu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Eo.prototype,i.la=8,i.G=1,i.connect=function(l,f,g,E){et(0),this.W=l,this.H=f||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=xa(this,null,this.W),bn(this)};function wt(l){if(ls(l),l.G==3){var f=l.U++,g=Jt(l.I);if(Ue(g,"SID",l.K),Ue(g,"RID",f),Ue(g,"TYPE","terminate"),sr(l,g),f=new wn(l,l.j,f),f.L=2,f.v=Rr(Jt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=f.v,g=!0),g||(f.g=La(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ze(f)}Na(l)}function Rn(l){l.g&&(wo(l),l.g.cancel(),l.g=null)}function ls(l){Rn(l),l.u&&(m.clearTimeout(l.u),l.u=null),hs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function bn(l){if(!Yt(l.h)&&!l.s){l.s=!0;var f=l.Ga;Fe||te(),J||(Fe(),J=!0),ue.add(f,l),l.B=0}}function Vu(l,f){return Ea(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=_n(M(l.Ga,l,f),Da(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new wn(this,this.j,l);let b=this.o;if(this.S&&(b?(b=I(b),P(b,this.S)):b=this.S),this.m!==null||this.O||(L.H=b,b=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Vr(this,L,f),g=Jt(this.I),Ue(g,"RID",l),Ue(g,"CVER",22),this.D&&Ue(g,"X-HTTP-Session-Id",this.D),sr(this,g),b&&(this.O?f="headers="+encodeURIComponent(String(ir(b)))+"&"+f:this.m&&kr(g,this.m,b)),mo(this.h,L),this.Ua&&Ue(g,"TYPE","init"),this.P?(Ue(g,"$req",f),Ue(g,"SID","null"),L.T=!0,ts(L,g,null)):ts(L,g,f),this.G=2}}else this.G==3&&(l?us(this,l):this.i.length==0||Yt(this.h)||us(this))};function us(l,f){var g;f?g=f.l:g=l.U++;const E=Jt(l.I);Ue(E,"SID",l.K),Ue(E,"RID",g),Ue(E,"AID",l.T),sr(l,E),l.m&&l.o&&kr(E,l.m,l.o),g=new wn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Vr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),mo(l.h,g),ts(g,E,f)}function sr(l,f){l.H&&_e(l.H,function(g,E){Ue(f,E,g)}),l.l&&Ir({},function(g,E){Ue(f,E,g)})}function Vr(l,f,g){g=Math.min(l.i.length,g);var E=l.l?M(l.l.Na,l.l,l):null;e:{var L=l.i;let b=-1;for(;;){const X=["count="+g];b==-1?0<g?(b=L[0].g,X.push("ofs="+b)):b=0:X.push("ofs="+b);let Me=!0;for(let lt=0;lt<g;lt++){let Pe=L[lt].g;const mt=L[lt].map;if(Pe-=b,0>Pe)b=Math.max(0,L[lt].g-100),Me=!1;else try{Pa(mt,X,"req"+Pe+"_")}catch{E&&E(mt)}}if(Me){E=X.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,E}function vi(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Fe||te(),J||(Fe(),J=!0),ue.add(f,l),l.v=0}}function cs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=_n(M(l.Fa,l),Da(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Va(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=_n(M(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Rn(this),Va(this))};function wo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Va(l){l.g=new wn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Jt(l.qa);Ue(f,"RID","rpc"),Ue(f,"SID",l.K),Ue(f,"AID",l.T),Ue(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(f,"TO",l.ja),Ue(f,"TYPE","xmlhttp"),sr(l,f),l.m&&l.o&&kr(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Rr(Jt(f)),g.m=null,g.P=!0,fo(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Rn(this),cs(this),et(19))};function hs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ds(l,f){var g=null;if(l.g==f){hs(l),wo(l),l.g=null;var E=2}else if(Mt(l.h,f))g=f.D,wa(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;E=ui(),at(E,new Yi(E,g)),bn(l)}else vi(l);else if(L=f.s,L==3||L==0&&0<f.X||!(E==1&&Vu(l,f)||E==2&&cs(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),L){case 1:or(l,5);break;case 4:or(l,10);break;case 3:or(l,6);break;default:or(l,2)}}}function Da(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function or(l,f){if(l.j.info("Error code "+f),f==2){var g=M(l.fb,l),E=l.Xa;const L=!E;E=new nr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||gi(E,"https"),Rr(E),L?Cu(E.toString(),g):Ca(E.toString(),g)}else et(2);l.G=0,l.l&&l.l.sa(f),Na(l),ls(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Na(l){if(l.G=0,l.ka=[],l.l){const f=Ta(l.h);(f.length!=0||l.i.length!=0)&&(H(l.ka,f),H(l.ka,l.i),l.h.i.length=0,Y(l.i),l.i.length=0),l.l.ra()}}function xa(l,f,g){var E=g instanceof nr?Jt(g):new nr(g);if(E.g!="")f&&(E.g=f+"."+E.g),Sr(E,E.s);else{var L=m.location;E=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var b=new nr(null);E&&gi(b,E),f&&(b.g=f),L&&Sr(b,L),g&&(b.l=g),E=b}return g=l.D,f=l.ya,g&&f&&Ue(E,g,f),Ue(E,"VER",l.la),sr(l,E),E}function La(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new He(new rr({eb:g})):new He(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function To(){}i=To.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fs(){}fs.prototype.g=function(l,f){return new Ft(l,f)};function Ft(l,f){ot.call(this),this.g=new Eo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!ee(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!ee(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new zn(this)}G(Ft,ot),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){wt(this.g)},Ft.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=io(l),l=g);f.i.push(new va(f.Ya++,l)),f.G==3&&bn(f)},Ft.prototype.N=function(){this.g.l=null,delete this.j,wt(this.g),delete this.g,Ft.aa.N.call(this)};function Oa(l){Ln.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}G(Oa,Ln);function Ma(){Xi.call(this),this.status=1}G(Ma,Xi);function zn(l){this.g=l}G(zn,To),zn.prototype.ua=function(){at(this.g,"a")},zn.prototype.ta=function(l){at(this.g,new Oa(l))},zn.prototype.sa=function(l){at(this.g,new Ma)},zn.prototype.ra=function(){at(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,ng=function(){return new fs},tg=function(){return ui()},eg=On,yh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Fl=Zi,ma.COMPLETE="complete",Zm=ma,Gi.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Ko=Gi,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,Jm=He}).apply(typeof Vl<"u"?Vl:typeof self<"u"?self:typeof window<"u"?window:{});const Wp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ks="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Mh("@firebase/firestore");function Os(){return Fi.logLevel}function ne(i,...e){if(Fi.logLevel<=Ve.DEBUG){const n=e.map(Uh);Fi.debug(`Firestore (${Ks}): ${i}`,...n)}}function _r(i,...e){if(Fi.logLevel<=Ve.ERROR){const n=e.map(Uh);Fi.error(`Firestore (${Ks}): ${i}`,...n)}}function zs(i,...e){if(Fi.logLevel<=Ve.WARN){const n=e.map(Uh);Fi.warn(`Firestore (${Ks}): ${i}`,...n)}}function Uh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(i="Unexpected state"){const e=`FIRESTORE (${Ks}) INTERNAL ASSERTION FAILED: `+i;throw _r(e),new Error(e)}function Oe(i,e){i||me()}function ye(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class R0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class C0{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,e.enqueueRetryable(()=>a(this.currentUser))};const d=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Oe(typeof s.accessToken=="string"),new rg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new Lt(e)}}class P0{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class k0{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new P0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D0{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const s=c=>{c.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ne("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new V0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=N0(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Re(i,e){return i<e?-1:i>e?1:0}function Bs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new dt(0,0))}static max(){return new ge(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,s){n===void 0?n=0:n>e.length&&me(),s===void 0?s=e.length-n:s>e.length-n&&me(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return na.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof na?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),d=n.get(a);if(c<d)return-1;if(c>d)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qe extends na{construct(e,n,s){return new Qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const x0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends na{construct(e,n,s){return new At(e,n,s)}static isValidIdentifier(e){return x0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(d=!d,a++):m!=="."||d?(s+=m,a++):(c(),a++)}if(c(),d)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Qe.fromString(e))}static fromName(e){return new de(Qe.fromString(e).popFirst(5))}static empty(){return new de(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Qe(e.slice()))}}function L0(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ge.fromTimestamp(s===1e9?new dt(n+1,0):new dt(n,s));return new Yr(a,de.empty(),e)}function O0(i){return new Yr(i.readTime,i.key,-1)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(ge.min(),de.empty(),-1)}static max(){return new Yr(ge.max(),de.empty(),-1)}}function M0(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(i.documentKey,e.documentKey),n!==0?n:Re(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==F0)throw i;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,s)=>{n(e)})}static reject(e){return new B((n,s)=>{s(e)})}static waitFor(e){return new B((n,s)=>{let a=0,c=0,d=!1;e.forEach(m=>{++a,m.next(()=>{++c,d&&c===a&&n()},y=>s(y))}),d=!0,c===a&&n()})}static or(e){let n=B.resolve(!1);for(const s of e)n=n.next(a=>a?B.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new B((s,a)=>{const c=e.length,d=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next(T=>{d[v]=T,++m,m===c&&s(d)},T=>a(T))}})}static doWhile(e,n){return new B((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function b0(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}su.oe=-1;function ou(i){return i==null}function Wl(i){return i===0&&1/i==-1/0}function z0(i){return typeof i=="number"&&Number.isInteger(i)&&!Wl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Kp(e)),e=j0(i.get(n),e);return Kp(e)}function j0(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Kp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ri(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function sg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dl(this.root,e,this.comparator,!0)}}class Dl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??St.RED,this.left=a??St.EMPTY,this.right=c??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new St(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return St.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,s,a,c){return this}insert(e,n,s){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gp(this.data.getIterator())}getIteratorFrom(e){return new Gp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class Gp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new sn([])}unionWith(e){let n=new ft(At.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new og("Invalid base64 string: "+c):c}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const $0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(i){if(Oe(!!i),typeof i=="string"){let e=0;const n=$0.exec(i);if(Oe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nt(i.seconds),nanos:nt(i.nanos)}}function nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zr(i){return typeof i=="string"?Rt.fromBase64String(i):Rt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function au(i){const e=i.mapValue.fields.__previous_value__;return bh(e)?au(e):e}function ra(i){const e=Jr(i.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,s,a,c,d,m,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v}}class ia{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ia("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ia&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ei(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bh(i)?4:W0(i)?9007199254740991:H0(i)?10:11:me()}function Gn(i,e){if(i===e)return!0;const n=ei(i);if(n!==ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ra(i).isEqual(ra(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=Jr(a.timestampValue),m=Jr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Zr(a.bytesValue).isEqual(Zr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return nt(a.geoPointValue.latitude)===nt(c.geoPointValue.latitude)&&nt(a.geoPointValue.longitude)===nt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return nt(a.integerValue)===nt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=nt(a.doubleValue),m=nt(c.doubleValue);return d===m?Wl(d)===Wl(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return Bs(i.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(a,c){const d=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Qp(d)!==Qp(m))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(m[y]===void 0||!Gn(d[y],m[y])))return!1;return!0}(i,e);default:return me()}}function sa(i,e){return(i.values||[]).find(n=>Gn(n,e))!==void 0}function js(i,e){if(i===e)return 0;const n=ei(i),s=ei(e);if(n!==s)return Re(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(i.booleanValue,e.booleanValue);case 2:return function(c,d){const m=nt(c.integerValue||c.doubleValue),y=nt(d.integerValue||d.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Xp(i.timestampValue,e.timestampValue);case 4:return Xp(ra(i),ra(e));case 5:return Re(i.stringValue,e.stringValue);case 6:return function(c,d){const m=Zr(c),y=Zr(d);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),y=d.split("/");for(let v=0;v<m.length&&v<y.length;v++){const T=Re(m[v],y[v]);if(T!==0)return T}return Re(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,d){const m=Re(nt(c.latitude),nt(d.latitude));return m!==0?m:Re(nt(c.longitude),nt(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Yp(i.arrayValue,e.arrayValue);case 10:return function(c,d){var m,y,v,T;const V=c.fields||{},M=d.fields||{},z=(m=V.value)===null||m===void 0?void 0:m.arrayValue,G=(y=M.value)===null||y===void 0?void 0:y.arrayValue,Y=Re(((v=z==null?void 0:z.values)===null||v===void 0?void 0:v.length)||0,((T=G==null?void 0:G.values)===null||T===void 0?void 0:T.length)||0);return Y!==0?Y:Yp(z,G)}(i.mapValue,e.mapValue);case 11:return function(c,d){if(c===Nl.mapValue&&d===Nl.mapValue)return 0;if(c===Nl.mapValue)return 1;if(d===Nl.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=d.fields||{},T=Object.keys(v);y.sort(),T.sort();for(let V=0;V<y.length&&V<T.length;++V){const M=Re(y[V],T[V]);if(M!==0)return M;const z=js(m[y[V]],v[T[V]]);if(z!==0)return z}return Re(y.length,T.length)}(i.mapValue,e.mapValue);default:throw me()}}function Xp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Re(i,e);const n=Jr(i),s=Jr(e),a=Re(n.seconds,s.seconds);return a!==0?a:Re(n.nanos,s.nanos)}function Yp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=js(n[a],s[a]);if(c)return c}return Re(n.length,s.length)}function $s(i){return _h(i)}function _h(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Zr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return de.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=_h(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const d of s)c?c=!1:a+=",",a+=`${d}:${_h(n.fields[d])}`;return a+"}"}(i.mapValue):me()}function Ul(i){switch(ei(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=au(i);return e?16+Ul(e):16;case 5:return 2*i.stringValue.length;case 6:return Zr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Ul(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ri(s.fields,(c,d)=>{a+=c.length+Ul(d)}),a}(i.mapValue);default:throw me()}}function vh(i){return!!i&&"integerValue"in i}function zh(i){return!!i&&"arrayValue"in i}function Jp(i){return!!i&&"nullValue"in i}function Zp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function bl(i){return!!i&&"mapValue"in i}function H0(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Xo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ri(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Xo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function W0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(n)}setAll(e){let n=At.emptyPath(),s={},a=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}d?s[m.lastSegment()]=Xo(d):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());bl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];bl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ri(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Gt(Xo(this.value))}}function ag(i){const e=[];return ri(i.fields,(n,s)=>{const a=new At([n]);if(bl(s)){const c=ag(s.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,s,a,c,d,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Ot(e,0,ge.min(),ge.min(),ge.min(),Gt.empty(),0)}static newFoundDocument(e,n,s,a){return new Ot(e,1,n,ge.min(),s,a,0)}static newNoDocument(e,n){return new Ot(e,2,n,ge.min(),ge.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,ge.min(),ge.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.position=e,this.inclusive=n}}function em(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],d=i.position[a];if(c.field.isKeyField()?s=de.comparator(de.fromName(d.referenceValue),n.key):s=js(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function tm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Gn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function K0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{}class ht extends lg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new G0(e,n,s):n==="array-contains"?new J0(e,s):n==="in"?new Z0(e,s):n==="not-in"?new eE(e,s):n==="array-contains-any"?new tE(e,s):new ht(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new X0(e,s):new Y0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(js(n,this.value)):n!==null&&ei(this.value)===ei(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends lg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xn(e,n)}matches(e){return ug(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ug(i){return i.op==="and"}function cg(i){return Q0(i)&&ug(i)}function Q0(i){for(const e of i.filters)if(e instanceof Xn)return!1;return!0}function Eh(i){if(i instanceof ht)return i.field.canonicalString()+i.op.toString()+$s(i.value);if(cg(i))return i.filters.map(e=>Eh(e)).join(",");{const e=i.filters.map(n=>Eh(n)).join(",");return`${i.op}(${e})`}}function hg(i,e){return i instanceof ht?function(s,a){return a instanceof ht&&s.op===a.op&&s.field.isEqual(a.field)&&Gn(s.value,a.value)}(i,e):i instanceof Xn?function(s,a){return a instanceof Xn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,d,m)=>c&&hg(d,a.filters[m]),!0):!1}(i,e):void me()}function dg(i){return i instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(i):i instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(dg).join(" ,")+"}"}(i):"Filter"}class G0 extends ht{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class X0 extends ht{constructor(e,n){super(e,"in",n),this.keys=fg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Y0 extends ht{constructor(e,n){super(e,"not-in",n),this.keys=fg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>de.fromName(s.referenceValue))}class J0 extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zh(n)&&sa(n.arrayValue,this.value)}}class Z0 extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sa(this.value.arrayValue,n)}}class eE extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!sa(this.value.arrayValue,n)}}class tE extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>sa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n=null,s=[],a=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=d,this.endAt=m,this.ue=null}}function nm(i,e=null,n=[],s=[],a=null,c=null,d=null){return new nE(i,e,n,s,a,c,d)}function Bh(i){const e=ye(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Eh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),ou(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>$s(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>$s(s)).join(",")),e.ue=n}return e.ue}function jh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!K0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!hg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!tm(i.startAt,e.startAt)&&tm(i.endAt,e.endAt)}function wh(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n=null,s=[],a=[],c=null,d="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rE(i,e,n,s,a,c,d,m){return new lu(i,e,n,s,a,c,d,m)}function pg(i){return new lu(i)}function rm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function iE(i){return i.collectionGroup!==null}function Yo(i){const e=ye(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new ft(At.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Ql(c,s))}),n.has(At.keyField().canonicalString())||e.ce.push(new Ql(At.keyField(),s))}return e.ce}function Wn(i){const e=ye(i);return e.le||(e.le=sE(e,Yo(i))),e.le}function sE(i,e){if(i.limitType==="F")return nm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Ql(a.field,c)});const n=i.endAt?new Kl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Kl(i.startAt.position,i.startAt.inclusive):null;return nm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Th(i,e,n){return new lu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function uu(i,e){return jh(Wn(i),Wn(e))&&i.limitType===e.limitType}function mg(i){return`${Bh(Wn(i))}|lt:${i.limitType}`}function Ms(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>dg(a)).join(", ")}]`),ou(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>$s(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>$s(a)).join(",")),`Target(${s})`}(Wn(i))}; limitType=${i.limitType})`}function cu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):de.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Yo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(d,m,y){const v=em(d,m,y);return d.inclusive?v<=0:v<0}(s.startAt,Yo(s),a)||s.endAt&&!function(d,m,y){const v=em(d,m,y);return d.inclusive?v>=0:v>0}(s.endAt,Yo(s),a))}(i,e)}function oE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function gg(i){return(e,n)=>{let s=!1;for(const a of Yo(i)){const c=aE(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function aE(i,e,n){const s=i.field.isKeyField()?de.comparator(e.key,n.key):function(c,d,m){const y=d.data.field(c),v=m.data.field(c);return y!==null&&v!==null?js(y,v):me()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ri(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return sg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Ye(de.comparator);function vr(){return lE}const yg=new Ye(de.comparator);function Qo(...i){let e=yg;for(const n of i)e=e.insert(n.key,n);return e}function _g(i){let e=yg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Li(){return Jo()}function vg(){return Jo()}function Jo(){return new Bi(i=>i.toString(),(i,e)=>i.isEqual(e))}const uE=new Ye(de.comparator),cE=new ft(de.comparator);function Se(...i){let e=cE;for(const n of i)e=e.add(n);return e}const hE=new ft(Re);function dE(){return hE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wl(e)?"-0":e}}function Eg(i){return{integerValue:""+i}}function fE(i,e){return z0(e)?Eg(e):$h(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this._=void 0}}function pE(i,e,n){return i instanceof Gl?function(a,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&bh(c)&&(c=au(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}}(n,e):i instanceof oa?Tg(i,e):i instanceof aa?Ig(i,e):function(a,c){const d=wg(a,c),m=im(d)+im(a.Pe);return vh(d)&&vh(a.Pe)?Eg(m):$h(a.serializer,m)}(i,e)}function mE(i,e,n){return i instanceof oa?Tg(i,e):i instanceof aa?Ig(i,e):n}function wg(i,e){return i instanceof Xl?function(s){return vh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Gl extends hu{}class oa extends hu{constructor(e){super(),this.elements=e}}function Tg(i,e){const n=Sg(e);for(const s of i.elements)n.some(a=>Gn(a,s))||n.push(s);return{arrayValue:{values:n}}}class aa extends hu{constructor(e){super(),this.elements=e}}function Ig(i,e){let n=Sg(e);for(const s of i.elements)n=n.filter(a=>!Gn(a,s));return{arrayValue:{values:n}}}class Xl extends hu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function im(i){return nt(i.integerValue||i.doubleValue)}function Sg(i){return zh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function gE(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof oa&&a instanceof oa||s instanceof aa&&a instanceof aa?Bs(s.elements,a.elements,Gn):s instanceof Xl&&a instanceof Xl?Gn(s.Pe,a.Pe):s instanceof Gl&&a instanceof Gl}(i.transform,e.transform)}class yE{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class du{}function Ag(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new qh(i.key,xn.none()):new ua(i.key,i.data,xn.none());{const n=i.data,s=Gt.empty();let a=new ft(At.comparator);for(let c of e.fields)if(!a.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),a=a.add(c)}return new ii(i.key,s,new sn(a.toArray()),xn.none())}}function _E(i,e,n){i instanceof ua?function(a,c,d){const m=a.value.clone(),y=om(a.fieldTransforms,c,d.transformResults);m.setAll(y),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ii?function(a,c,d){if(!zl(a.precondition,c))return void c.convertToUnknownDocument(d.version);const m=om(a.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Rg(a)),y.setAll(m),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Zo(i,e,n,s){return i instanceof ua?function(c,d,m,y){if(!zl(c.precondition,d))return m;const v=c.value.clone(),T=am(c.fieldTransforms,y,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof ii?function(c,d,m,y){if(!zl(c.precondition,d))return m;const v=am(c.fieldTransforms,y,d),T=d.data;return T.setAll(Rg(c)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(V=>V.field))}(i,e,n,s):function(c,d,m){return zl(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(i,e,n)}function vE(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=wg(s.transform,a||null);c!=null&&(n===null&&(n=Gt.empty()),n.set(s.field,c))}return n||null}function sm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Bs(s,a,(c,d)=>gE(c,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ua extends du{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ii extends du{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Rg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function om(i,e,n){const s=new Map;Oe(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],d=c.transform,m=e.data.field(c.field);s.set(c.field,mE(d,m,n[a]))}return s}function am(i,e,n){const s=new Map;for(const a of i){const c=a.transform,d=n.data.field(a.field);s.set(a.field,pE(c,d,e))}return s}class qh extends du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EE extends du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&_E(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vg();return this.mutations.forEach(a=>{const c=e.get(a.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(a.key)?null:m;const y=Ag(d,m);y!==null&&s.set(a.key,y),d.isValidDocument()||d.convertToNoDocument(ge.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,(n,s)=>sm(n,s))&&Bs(this.baseMutations,e.baseMutations,(n,s)=>sm(n,s))}}class Hh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Oe(e.mutations.length===s.length);let a=function(){return uE}();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,s[d].version);return new Hh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,ke;function SE(i){switch(i){default:return me();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function Cg(i){if(i===void 0)return _r("GRPC error has no .code"),W.UNKNOWN;switch(i){case st.OK:return W.OK;case st.CANCELLED:return W.CANCELLED;case st.UNKNOWN:return W.UNKNOWN;case st.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case st.INTERNAL:return W.INTERNAL;case st.UNAVAILABLE:return W.UNAVAILABLE;case st.UNAUTHENTICATED:return W.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case st.NOT_FOUND:return W.NOT_FOUND;case st.ALREADY_EXISTS:return W.ALREADY_EXISTS;case st.PERMISSION_DENIED:return W.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case st.ABORTED:return W.ABORTED;case st.OUT_OF_RANGE:return W.OUT_OF_RANGE;case st.UNIMPLEMENTED:return W.UNIMPLEMENTED;case st.DATA_LOSS:return W.DATA_LOSS;default:return me()}}(ke=st||(st={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Mi([4294967295,4294967295],0);function lm(i){const e=AE().encode(i),n=new Ym;return n.update(e),new Uint8Array(n.digest())}function um(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Mi([n,s],0),new Mi([a,c],0)]}class Wh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(s<0)throw new Go(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Mi.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Mi.fromNumber(s)));return a.compare(RE)===1&&(a=new Mi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=lm(e),[s,a]=um(n);for(let c=0;c<this.hashCount;c++){const d=this.Ee(s,a,c);if(!this.de(d))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Wh(c,a,n);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.Te===0)return;const n=lm(e),[s,a]=um(n);for(let c=0;c<this.hashCount;c++){const d=this.Ee(s,a,c);this.Ae(d)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ca.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new fu(ge.min(),a,new Ye(Re),vr(),Se())}}class ca{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ca(s,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Pg{constructor(e,n){this.targetId=e,this.me=n}}class kg{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class cm{constructor(){this.fe=0,this.ge=hm(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),s=Se();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:me()}}),new ca(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=hm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class CE{constructor(e){this.Le=e,this.Be=new Map,this.ke=vr(),this.qe=xl(),this.Qe=xl(),this.Ke=new Ye(Re)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(wh(c))if(s===0){const d=new de(c.path);this.We(n,d,Ot.newNoDocument(d,ge.min()))}else Oe(s===1);else{const d=this.Ze(n);if(d!==s){const m=this.Xe(e),y=m?this.et(m,e,d):1;if(y!==0){this.He(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let d,m;try{d=Zr(s).toUint8Array()}catch(y){if(y instanceof og)return zs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Wh(d,a,c)}catch(y){return zs(y instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const d=this.Le.nt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,d)=>{const m=this.Ye(d);if(m){if(c.current&&wh(m.target)){const y=new de(m.target.path);this.st(y).has(d)||this.ot(d,y)||this.We(d,y,Ot.newNoDocument(y,e))}c.be&&(n.set(d,c.ve()),c.Ce())}});let s=Se();this.Qe.forEach((c,d)=>{let m=!0;d.forEachWhile(y=>{const v=this.Ye(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,d)=>d.setReadTime(e));const a=new fu(e,n,this.Ke,this.ke,s);return this.ke=vr(),this.qe=xl(),this.Qe=xl(),this.Ke=new Ye(Re),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new cm,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new ft(Re),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ft(Re),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new cm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function xl(){return new Ye(de.comparator)}function hm(){return new Ye(de.comparator)}const PE={asc:"ASCENDING",desc:"DESCENDING"},kE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VE={and:"AND",or:"OR"};class DE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ih(i,e){return i.useProto3Json||ou(e)?e:{value:e}}function Yl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function NE(i,e){return Yl(i,e.toTimestamp())}function Kn(i){return Oe(!!i),ge.fromTimestamp(function(n){const s=Jr(n);return new dt(s.seconds,s.nanos)}(i))}function Kh(i,e){return Sh(i,e).canonicalString()}function Sh(i,e){const n=function(a){return new Qe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Dg(i){const e=Qe.fromString(i);return Oe(Mg(e)),e}function Ah(i,e){return Kh(i.databaseId,e.path)}function sh(i,e){const n=Dg(e);if(n.get(1)!==i.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new de(xg(n))}function Ng(i,e){return Kh(i.databaseId,e)}function xE(i){const e=Dg(i);return e.length===4?Qe.emptyPath():xg(e)}function Rh(i){return new Qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xg(i){return Oe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function dm(i,e,n){return{name:Ah(i,e),fields:n.value.mapValue.fields}}function LE(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(v,T){return v.useProto3Json?(Oe(T===void 0||typeof T=="string"),Rt.fromBase64String(T||"")):(Oe(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Rt.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(v){const T=v.code===void 0?W.UNKNOWN:Cg(v.code);return new le(T,v.message||"")}(d);n=new kg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=sh(i,s.document.name),c=Kn(s.document.updateTime),d=s.document.createTime?Kn(s.document.createTime):ge.min(),m=new Gt({mapValue:{fields:s.document.fields}}),y=Ot.newFoundDocument(a,c,d,m),v=s.targetIds||[],T=s.removedTargetIds||[];n=new Bl(v,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=sh(i,s.document),c=s.readTime?Kn(s.readTime):ge.min(),d=Ot.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Bl([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=sh(i,s.document),c=s.removedTargetIds||[];n=new Bl([],c,a,null)}else{if(!("filter"in e))return me();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,d=new IE(a,c),m=s.targetId;n=new Pg(m,d)}}return n}function OE(i,e){let n;if(e instanceof ua)n={update:dm(i,e.key,e.value)};else if(e instanceof qh)n={delete:Ah(i,e.key)};else if(e instanceof ii)n={update:dm(i,e.key,e.data),updateMask:qE(e.fieldMask)};else{if(!(e instanceof EE))return me();n={verify:Ah(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof Gl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof oa)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof aa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xl)return{fieldPath:d.field.canonicalString(),increment:m.Pe};throw me()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:NE(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:me()}(i,e.precondition)),n}function ME(i,e){return i&&i.length>0?(Oe(e!==void 0),i.map(n=>function(a,c){let d=a.updateTime?Kn(a.updateTime):Kn(c);return d.isEqual(ge.min())&&(d=Kn(c)),new yE(d,a.transformResults||[])}(n,e))):[]}function FE(i,e){return{documents:[Ng(i,e.path)]}}function UE(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ng(i,a);const c=function(v){if(v.length!==0)return Og(Xn.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(T=>function(M){return{field:Fs(M.field),direction:BE(M.dir)}}(T))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=Ih(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function bE(i){let e=xE(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Oe(s===1);const T=n.from[0];T.allDescendants?a=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=function(V){const M=Lg(V);return M instanceof Xn&&cg(M)?M.getFilters():[M]}(n.where));let d=[];n.orderBy&&(d=function(V){return V.map(M=>function(G){return new Ql(Us(G.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(M))}(n.orderBy));let m=null;n.limit&&(m=function(V){let M;return M=typeof V=="object"?V.value:V,ou(M)?null:M}(n.limit));let y=null;n.startAt&&(y=function(V){const M=!!V.before,z=V.values||[];return new Kl(z,M)}(n.startAt));let v=null;return n.endAt&&(v=function(V){const M=!V.before,z=V.values||[];return new Kl(z,M)}(n.endAt)),rE(e,a,d,c,m,"F",y,v)}function zE(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Lg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Us(n.unaryFilter.field);return ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Us(n.unaryFilter.field);return ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Us(n.unaryFilter.field);return ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Us(n.unaryFilter.field);return ht.create(d,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(i):i.fieldFilter!==void 0?function(n){return ht.create(Us(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>Lg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(i):me()}function BE(i){return PE[i]}function jE(i){return kE[i]}function $E(i){return VE[i]}function Fs(i){return{fieldPath:i.canonicalString()}}function Us(i){return At.fromServerFormat(i.fieldPath)}function Og(i){return i instanceof ht?function(n){if(n.op==="=="){if(Zp(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(Jp(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zp(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(Jp(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:jE(n.op),value:n.value}}}(i):i instanceof Xn?function(n){const s=n.getFilters().map(a=>Og(a));return s.length===1?s[0]:{compositeFilter:{op:$E(n.op),filters:s}}}(i):me()}function qE(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Mg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,s,a,c=ge.min(),d=ge.min(),m=Rt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.ht=e}}function WE(i){const e=bE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.ln=new QE}addToCollectionParentIndex(e,n){return this.ln.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Yr.min())}updateCollectionGroup(e,n,s){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class QE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new ft(Qe.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ft(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new qs(0)}static Qn(){return new qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm([i,e],[n,s]){const a=Re(i,n);return a===0?Re(e,s):a}class GE{constructor(e){this.Gn=e,this.buffer=new ft(pm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XE{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gs(n)?ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Qs(n)}await this.Yn(3e5)})}}class YE{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return B.resolve(su.oe);const s=new GE(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(fm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,d,m,y,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),a=this.params.maximumSequenceNumbersToCollect):a=V,d=Date.now(),this.nthSequenceNumber(e,a))).next(V=>(s=V,m=Date.now(),this.removeTargets(e,s,n))).next(V=>(c=V,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(V=>(v=Date.now(),Os()<=Ve.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${a} in `+(m-d)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${V} documents in `+(v-y)+`ms
Total Duration: ${v-T}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:V})))}}function JE(i,e){return new YE(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.changes=new Bi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?B.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Zo(s.mutation,a,sn.empty(),dt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Se()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Se()){const a=Li();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let d=Qo();return c.forEach((m,y)=>{d=d.insert(m,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=Li();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Se()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,s,a){let c=vr();const d=Jo(),m=function(){return Jo()}();return n.forEach((y,v)=>{const T=s.get(v.key);a.has(v.key)&&(T===void 0||T.mutation instanceof ii)?c=c.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),Zo(T.mutation,v,T.mutation.getFieldMask(),dt.now())):d.set(v.key,sn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((v,T)=>d.set(v,T)),n.forEach((v,T)=>{var V;return m.set(v,new ew(T,(V=d.get(v))!==null&&V!==void 0?V:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Jo();let a=new Ye((d,m)=>d-m),c=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(y=>{const v=n.get(y);if(v===null)return;let T=s.get(y)||sn.empty();T=m.applyToLocalView(v,T),s.set(y,T);const V=(a.get(m.batchId)||Se()).add(y);a=a.insert(m.batchId,V)})}).next(()=>{const d=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,T=y.value,V=vg();T.forEach(M=>{if(!c.has(M)){const z=Ag(n.get(M),s.get(M));z!==null&&V.set(M,z),c=c.add(M)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return B.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(d){return de.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):B.resolve(Li());let m=-1,y=c;return d.next(v=>B.forEach(v,(T,V)=>(m<V.largestBatchId&&(m=V.largestBatchId),c.get(T)?B.resolve():this.remoteDocumentCache.getEntry(e,T).next(M=>{y=y.insert(T,M)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,y,v,Se())).next(T=>({batchId:m,changes:_g(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(s=>{let a=Qo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let d=Qo();return this.indexManager.getCollectionParents(e,c).next(m=>B.forEach(m,y=>{const v=function(V,M){return new lu(M,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(T=>{T.forEach((V,M)=>{d=d.insert(V,M)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(d=>{c.forEach((y,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,Ot.newInvalidDocument(T)))});let m=Qo();return d.forEach((y,v)=>{const T=c.get(y);T!==void 0&&Zo(T.mutation,v,sn.empty(),dt.now()),cu(n,v)&&(m=m.insert(y,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return B.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Kn(a.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:WE(a.bundledQuery),readTime:Kn(a.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.overlays=new Ye(de.comparator),this.Er=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Li();return B.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),B.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),B.resolve()}getOverlaysForCollection(e,n,s){const a=Li(),c=n.length+1,d=new de(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ye((v,T)=>v-T);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let T=c.get(v.largestBatchId);T===null&&(T=Li(),c=c.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const m=Li(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,T)=>m.set(v,T)),!(m.size()>=a)););return B.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const d=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new TE(n,s));let c=this.Er.get(n);c===void 0&&(c=Se(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this.dr=new ft(vt.Ar),this.Rr=new ft(vt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new vt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new vt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new de(new Qe([])),s=new vt(n,e),a=new vt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],d=>{this.gr(d),c.push(d.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new de(new Qe([])),s=new vt(n,e),a=new vt(n,e+1);let c=Se();return this.Rr.forEachInRange([s,a],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new vt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class vt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return de.comparator(e.key,n.key)||Re(e.br,n.br)}static Vr(e,n){return Re(e.br,n.br)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new ft(vt.Ar)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new wE(c,n,s,a);this.mutationQueue.push(d);for(const m of a)this.vr=this.vr.add(new vt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return B.resolve(d)}lookupMutationBatch(e,n){return B.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return B.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new vt(n,0),a=new vt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],d=>{const m=this.Cr(d.br);c.push(m)}),B.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ft(Re);return n.forEach(a=>{const c=new vt(a,0),d=new vt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,d],m=>{s=s.add(m.br)})}),B.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;de.isDocumentKey(c)||(c=c.child(""));const d=new vt(new de(c),0);let m=new ft(Re);return this.vr.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.br)),!0)},d),B.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Oe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return B.forEach(n.mutations,a=>{const c=new vt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new vt(n,0),a=this.vr.firstAfterOrEqual(s);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.Nr=e,this.docs=function(){return new Ye(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,d=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return B.resolve(s?s.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ot.newInvalidDocument(a))}),B.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=vr();const d=n.path,m=new de(d.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:T}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||M0(O0(T),s)<=0||(a.has(T.key)||cu(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return B.resolve(c)}getAllFromCollectionGroup(e,n,s,a){me()}Lr(e,n){return B.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new aw(this)}getSize(e){return B.resolve(this.size)}}class aw extends ZE{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),B.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.persistence=e,this.Br=new Bi(n=>Bh(n),jh),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.kr=0,this.qr=new Qh,this.targetCount=0,this.Qr=qs.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),B.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new qs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Un(n),B.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),B.waitFor(c).next(()=>a)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return B.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),B.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(d=>{c.push(a.markPotentiallyOrphaned(e,d))}),B.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return B.resolve(s)}containsKey(e,n){return B.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new su(0),this.Ur=!1,this.Ur=!0,this.Wr=new iw,this.referenceDelegate=e(this),this.Gr=new lw(this),this.indexManager=new KE,this.remoteDocumentCache=function(a){return new ow(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new HE(n),this.jr=new nw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new sw(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ne("MemoryPersistence","Starting transaction:",e);const a=new uw(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return B.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class uw extends U0{constructor(e){super(),this.currentSequenceNumber=e}}class Gh{constructor(e){this.persistence=e,this.Zr=new Qh,this.Xr=null}static ei(e){return new Gh(e)}get ti(){if(this.Xr)return this.Xr;throw me()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),B.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),B.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,s=>{const a=de.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,ge.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return B.or([()=>B.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Jl{constructor(e,n){this.persistence=e,this.ri=new Bi(s=>B0(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=JE(this,n)}static ei(e,n){return new Jl(e,n)}Hr(){}Jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return B.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?B.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,d=>this.ir(e,d,n).next(m=>{m||(s++,c.removeEntry(d,ge.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),B.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ul(e.data.value)),n}ir(e,n,s){return B.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return B.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Se(),a=Se();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Xh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return uv()?8:b0(ov())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new cw;return this.ts(e,n,d).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,d,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Os()<=Ve.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):(Os()<=Ve.DEBUG&&ne("QueryEngine","Query:",Ms(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Os()<=Ve.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):B.resolve())}Xi(e,n){if(rm(n))return B.resolve(null);let s=Wn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Th(n,null,"F"),s=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Se(...c);return this.Zi.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const v=this.rs(n,m);return this.ss(n,v,d,y.readTime)?this.Xi(e,Th(n,null,"F")):this.os(e,v,n,y)}))})))}es(e,n,s,a){return rm(n)||a.isEqual(ge.min())?B.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const d=this.rs(n,c);return this.ss(n,d,s,a)?B.resolve(null):(Os()<=Ve.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ms(n)),this.os(e,d,n,L0(a,-1)).next(m=>m))})}rs(e,n){let s=new ft(gg(e));return n.forEach((a,c)=>{cu(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Os()<=Ve.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Ms(n)),this.Zi.getDocumentsMatchingQuery(e,n,Yr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Ye(Re),this.cs=new Bi(c=>Bh(c),jh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tw(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function fw(i,e,n,s){return new dw(i,e,n,s)}async function Ug(i,e){const n=ye(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let y=Se();for(const v of a){d.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}for(const v of c){m.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(s,y).next(v=>({Ts:v,removedBatchIds:d,addedBatchIds:m}))})})}function pw(i,e){const n=ye(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,y,v,T){const V=v.batch,M=V.keys();let z=B.resolve();return M.forEach(G=>{z=z.next(()=>T.getEntry(y,G)).next(Y=>{const H=v.docVersions.get(G);Oe(H!==null),Y.version.compareTo(H)<0&&(V.applyToRemoteDocument(Y,v),Y.isValidDocument()&&(Y.setReadTime(v.commitVersion),T.addEntry(Y)))})}),z.next(()=>m.mutationQueue.removeMutationBatch(y,V))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Se();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function bg(i){const e=ye(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function mw(i,e){const n=ye(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((T,V)=>{const M=a.get(V);if(!M)return;m.push(n.Gr.removeMatchingKeys(c,T.removedDocuments,V).next(()=>n.Gr.addMatchingKeys(c,T.addedDocuments,V)));let z=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(V)!==null?z=z.withResumeToken(Rt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,s)),a=a.insert(V,z),function(Y,H,ve){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8?!0:ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0}(M,z,T)&&m.push(n.Gr.updateTargetData(c,z))});let y=vr(),v=Se();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(gw(c,d,e.documentUpdates).next(T=>{y=T.Is,v=T.Es})),!s.isEqual(ge.min())){const T=n.Gr.getLastRemoteSnapshotVersion(c).next(V=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(T)}return B.waitFor(m).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,v)).next(()=>y)}).then(c=>(n.us=a,c))}function gw(i,e,n){let s=Se(),a=Se();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let d=vr();return n.forEach((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(ge.min())?(e.removeEntry(m,y.readTime),d=d.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),d=d.insert(m,y)):ne("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)}),{Is:d,Es:a}})}function yw(i,e){const n=ye(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function _w(i,e){const n=ye(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,B.resolve(a)):n.Gr.allocateTargetId(s).next(d=>(a=new Hr(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Ch(i,e,n){const s=ye(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,a))}catch(d){if(!Gs(d))throw d;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function mm(i,e,n){const s=ye(i);let a=ge.min(),c=Se();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,v,T){const V=ye(y),M=V.cs.get(T);return M!==void 0?B.resolve(V.us.get(M)):V.Gr.getTargetData(v,T)}(s,d,Wn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(d,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(d,e,n?a:ge.min(),n?c:Se())).next(m=>(vw(s,oE(e),m),{documents:m,ds:c})))}function vw(i,e,n){let s=i.ls.get(e)||ge.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class gm{constructor(){this.activeTargetIds=dE()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ew{constructor(){this._o=new gm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new gm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll=null;function oh(){return Ll===null?Ll=function(){return 268435456+Math.round(2147483648*Math.random())}():Ll++,"0x"+Ll.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class Sw extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,d){const m=oh(),y=this.No(n,s.toUriEncodedString());ne("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,c,d),this.Bo(n,y,v,a).then(T=>(ne("RestConnection",`Received RPC '${n}' ${m}: `,T),T),T=>{throw zs("RestConnection",`RPC '${n}' ${m} failed with error: `,T,"url: ",y,"request:",a),T})}ko(n,s,a,c,d,m){return this.Oo(n,s,a,c,d)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ks}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,d)=>n[d]=c),a&&a.headers.forEach((c,d)=>n[d]=c)}No(n,s){const a=Tw[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=oh();return new Promise((d,m)=>{const y=new Jm;y.setWithCredentials(!0),y.listenOnce(Zm.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Fl.NO_ERROR:const T=y.getResponseJson();ne(xt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Fl.TIMEOUT:ne(xt,`RPC '${e}' ${c} timed out`),m(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Fl.HTTP_ERROR:const V=y.getStatus();if(ne(xt,`RPC '${e}' ${c} failed with status:`,V,"response text:",y.getResponseText()),V>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const z=M==null?void 0:M.error;if(z&&z.status&&z.message){const G=function(H){const ve=H.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ve)>=0?ve:W.UNKNOWN}(z.status);m(new le(G,z.message))}else m(new le(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new le(W.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{ne(xt,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);ne(xt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",v,s,15)})}qo(e,n,s){const a=oh(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=ng(),m=tg(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Lo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const T=c.join("");ne(xt,`Creating RPC '${e}' stream ${a}: ${T}`,y);const V=d.createWebChannel(T,y);let M=!1,z=!1;const G=new Iw({Eo:H=>{z?ne(xt,`Not sending because RPC '${e}' stream ${a} is closed:`,H):(M||(ne(xt,`Opening RPC '${e}' stream ${a} transport.`),V.open(),M=!0),ne(xt,`RPC '${e}' stream ${a} sending:`,H),V.send(H))},Ao:()=>V.close()}),Y=(H,ve,ee)=>{H.listen(ve,fe=>{try{ee(fe)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return Y(V,Ko.EventType.OPEN,()=>{z||(ne(xt,`RPC '${e}' stream ${a} transport opened.`),G.So())}),Y(V,Ko.EventType.CLOSE,()=>{z||(z=!0,ne(xt,`RPC '${e}' stream ${a} transport closed`),G.Do())}),Y(V,Ko.EventType.ERROR,H=>{z||(z=!0,zs(xt,`RPC '${e}' stream ${a} transport errored:`,H),G.Do(new le(W.UNAVAILABLE,"The operation could not be completed")))}),Y(V,Ko.EventType.MESSAGE,H=>{var ve;if(!z){const ee=H.data[0];Oe(!!ee);const fe=ee,Ee=(fe==null?void 0:fe.error)||((ve=fe[0])===null||ve===void 0?void 0:ve.error);if(Ee){ne(xt,`RPC '${e}' stream ${a} received error:`,Ee);const je=Ee.status;let _e=function(A){const P=st[A];if(P!==void 0)return Cg(P)}(je),k=Ee.message;_e===void 0&&(_e=W.INTERNAL,k="Unknown error status: "+je+" with message "+Ee.message),z=!0,G.Do(new le(_e,k)),V.close()}else ne(xt,`RPC '${e}' stream ${a} received:`,ee),G.vo(ee)}}),Y(m,eg.STAT_EVENT,H=>{H.stat===yh.PROXY?ne(xt,`RPC '${e}' stream ${a} detected buffering proxy`):H.stat===yh.NOPROXY&&ne(xt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{G.bo()},0),G}}function ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(i){return new DE(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,s,a,c,d,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new zg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Aw extends Bg{constructor(e,n,s,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=LE(this.serializer,e),s=function(c){if(!("targetChange"in c))return ge.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ge.min():d.readTime?Kn(d.readTime):ge.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Rh(this.serializer),n.addTarget=function(c,d){let m;const y=d.target;if(m=wh(y)?{documents:FE(c,y)}:{query:UE(c,y).ct},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=Vg(c,d.resumeToken);const v=Ih(c,d.expectedCount);v!==null&&(m.expectedCount=v)}else if(d.snapshotVersion.compareTo(ge.min())>0){m.readTime=Yl(c,d.snapshotVersion.toTimestamp());const v=Ih(c,d.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=zE(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Rh(this.serializer),n.removeTarget=e,this.c_(n)}}class Rw extends Bg{constructor(e,n,s,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=ME(e.writeResults,e.commitTime),s=Kn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=Rh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>OE(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Oo(e,Sh(n,s),a,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(W.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.ko(e,Sh(n,s),a,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(W.UNKNOWN,d.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Pw{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(_r(n),this.C_=!1):ne("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(d=>{s.enqueueAndForget(async()=>{ji(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(y){const v=ye(y);v.k_.add(4),await ha(v),v.K_.set("Unknown"),v.k_.delete(4),await mu(v)}(this))})}),this.K_=new Pw(s,a)}}async function mu(i){if(ji(i))for(const e of i.q_)await e(!0)}async function ha(i){for(const e of i.q_)await e(!1)}function jg(i,e){const n=ye(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),ed(n)?Zh(n):Xs(n).s_()&&Jh(n,e))}function Yh(i,e){const n=ye(i),s=Xs(n);n.B_.delete(e),s.s_()&&$g(n,e),n.B_.size===0&&(s.s_()?s.a_():ji(n)&&n.K_.set("Unknown"))}function Jh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(i).V_(e)}function $g(i,e){i.U_.xe(e),Xs(i).m_(e)}function Zh(i){i.U_=new CE({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Xs(i).start(),i.K_.F_()}function ed(i){return ji(i)&&!Xs(i).i_()&&i.B_.size>0}function ji(i){return ye(i).k_.size===0}function qg(i){i.U_=void 0}async function Vw(i){i.K_.set("Online")}async function Dw(i){i.B_.forEach((e,n)=>{Jh(i,e)})}async function Nw(i,e){qg(i),ed(i)?(i.K_.O_(e),Zh(i)):i.K_.set("Unknown")}async function xw(i,e,n){if(i.K_.set("Online"),e instanceof kg&&e.state===2&&e.cause)try{await async function(a,c){const d=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,d),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zl(i,s)}else if(e instanceof Bl?i.U_.$e(e):e instanceof Pg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(ge.min()))try{const s=await bg(i.localStore);n.compareTo(s)>=0&&await function(c,d){const m=c.U_.it(d);return m.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.B_.get(v);T&&c.B_.set(v,T.withResumeToken(y.resumeToken,d))}}),m.targetMismatches.forEach((y,v)=>{const T=c.B_.get(y);if(!T)return;c.B_.set(y,T.withResumeToken(Rt.EMPTY_BYTE_STRING,T.snapshotVersion)),$g(c,y);const V=new Hr(T.target,y,v,T.sequenceNumber);Jh(c,V)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ne("RemoteStore","Failed to raise snapshot:",s),await Zl(i,s)}}async function Zl(i,e,n){if(!Gs(e))throw e;i.k_.add(1),await ha(i),i.K_.set("Offline"),n||(n=()=>bg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await mu(i)})}function Hg(i,e){return e().catch(n=>Zl(i,n,e))}async function gu(i){const e=ye(i),n=ti(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Lw(e);)try{const a=await yw(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,Ow(e,a)}catch(a){await Zl(e,a)}Wg(e)&&Kg(e)}function Lw(i){return ji(i)&&i.L_.length<10}function Ow(i,e){i.L_.push(e);const n=ti(i);n.s_()&&n.f_&&n.g_(e.mutations)}function Wg(i){return ji(i)&&!ti(i).i_()&&i.L_.length>0}function Kg(i){ti(i).start()}async function Mw(i){ti(i).w_()}async function Fw(i){const e=ti(i);for(const n of i.L_)e.g_(n.mutations)}async function Uw(i,e,n){const s=i.L_.shift(),a=Hh.from(s,e,n);await Hg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await gu(i)}async function bw(i,e){e&&ti(i).f_&&await async function(s,a){if(function(d){return SE(d)&&d!==W.ABORTED}(a.code)){const c=s.L_.shift();ti(s).__(),await Hg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await gu(s)}}(i,e),Wg(i)&&Kg(i)}async function _m(i,e){const n=ye(i);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const s=ji(n);n.k_.add(3),await ha(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await mu(n)}async function zw(i,e){const n=ye(i);e?(n.k_.delete(2),await mu(n)):e||(n.k_.add(2),await ha(n),n.K_.set("Unknown"))}function Xs(i){return i.W_||(i.W_=function(n,s,a){const c=ye(n);return c.b_(),new Aw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:Vw.bind(null,i),mo:Dw.bind(null,i),po:Nw.bind(null,i),R_:xw.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),ed(i)?Zh(i):i.K_.set("Unknown")):(await i.W_.stop(),qg(i))})),i.W_}function ti(i){return i.G_||(i.G_=function(n,s,a){const c=ye(n);return c.b_(),new Rw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:Mw.bind(null,i),po:bw.bind(null,i),p_:Fw.bind(null,i),y_:Uw.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await gu(i)):(await i.G_.stop(),i.L_.length>0&&(ne("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const d=Date.now()+s,m=new td(e,n,d,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nd(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Gs(i))return new le(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{static emptySet(e){return new bs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Qo(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.z_=new Ye(de.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):me():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Hs{constructor(e,n,s,a,c,d,m,y,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new Hs(e,n,bs.emptySet(n),d,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class jw{constructor(){this.queries=Em(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=ye(n),c=a.queries;a.queries=Em(),c.forEach((d,m)=>{for(const y of m.J_)y.onError(s)})})(this,new le(W.ABORTED,"Firestore shutting down"))}}function Em(){return new Bi(i=>mg(i),uu)}async function $w(i,e){const n=ye(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new Bw,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(d){const m=nd(d,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&rd(n)}async function qw(i,e){const n=ye(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const d=c.J_.indexOf(e);d>=0&&(c.J_.splice(d,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Hw(i,e){const n=ye(i);let s=!1;for(const a of e){const c=a.query,d=n.queries.get(c);if(d){for(const m of d.J_)m.ta(a)&&(s=!0);d.H_=a}}s&&rd(n)}function Ww(i,e,n){const s=ye(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function rd(i){i.X_.forEach(e=>{e.next()})}var Ph,wm;(wm=Ph||(Ph={})).na="default",wm.Cache="cache";class Kw{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Hs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Ph.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this.key=e}}class Gg{constructor(e){this.key=e}}class Qw{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Se(),this.mutatedKeys=Se(),this.Va=gg(e),this.ma=new bs(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new vm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,d=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((T,V)=>{const M=a.get(T),z=cu(this.query,V)?V:null,G=!!M&&this.mutatedKeys.has(M.key),Y=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let H=!1;M&&z?M.data.isEqual(z.data)?G!==Y&&(s.track({type:3,doc:z}),H=!0):this.ya(M,z)||(s.track({type:2,doc:z}),H=!0,(y&&this.Va(z,y)>0||v&&this.Va(z,v)<0)&&(m=!0)):!M&&z?(s.track({type:0,doc:z}),H=!0):M&&!z&&(s.track({type:1,doc:M}),H=!0,(y||v)&&(m=!0)),H&&(z?(d=d.add(z),c=Y?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{ma:d,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const d=e.pa.j_();d.sort((T,V)=>function(z,G){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return Y(z)-Y(G)}(T.type,V.type)||this.Va(T.doc,V.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,v=y!==this.Aa;return this.Aa=y,d.length!==0||v?{snapshot:new Hs(this.query,e.ma,c,d,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new vm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Se(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Gg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Qg(s))}),n}va(e){this.da=e.ds,this.Ra=Se();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Hs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Gw{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Xw{constructor(e){this.key=e,this.Fa=!1}}class Yw{constructor(e,n,s,a,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Ma={},this.xa=new Bi(m=>mg(m),uu),this.Oa=new Map,this.Na=new Set,this.La=new Ye(de.comparator),this.Ba=new Map,this.ka=new Qh,this.qa={},this.Qa=new Map,this.Ka=qs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Jw(i,e,n=!0){const s=ty(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Xg(s,e,n,!0),a}async function Zw(i,e){const n=ty(i);await Xg(n,e,!0,!1)}async function Xg(i,e,n,s){const a=await _w(i.localStore,Wn(e)),c=a.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await e1(i,e,c,d==="current",a.resumeToken)),i.isPrimaryClient&&n&&jg(i.remoteStore,a),m}async function e1(i,e,n,s,a){i.Ua=(V,M,z)=>async function(Y,H,ve,ee){let fe=H.view.ga(ve);fe.ss&&(fe=await mm(Y.localStore,H.query,!1).then(({documents:k})=>H.view.ga(k,fe)));const Ee=ee&&ee.targetChanges.get(H.targetId),je=ee&&ee.targetMismatches.get(H.targetId)!=null,_e=H.view.applyChanges(fe,Y.isPrimaryClient,Ee,je);return Im(Y,H.targetId,_e.ba),_e.snapshot}(i,V,M,z);const c=await mm(i.localStore,e,!0),d=new Qw(e,c.ds),m=d.ga(c.documents),y=ca.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=d.applyChanges(m,i.isPrimaryClient,y);Im(i,n,v.ba);const T=new Gw(e,n,d);return i.xa.set(e,T),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function t1(i,e,n){const s=ye(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(d=>!uu(d,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ch(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Yh(s.remoteStore,a.targetId),kh(s,a.targetId)}).catch(Qs)):(kh(s,a.targetId),await Ch(s.localStore,a.targetId,!0))}async function n1(i,e){const n=ye(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Yh(n.remoteStore,s.targetId))}async function r1(i,e,n){const s=c1(i);try{const a=await function(d,m){const y=ye(d),v=dt.now(),T=m.reduce((z,G)=>z.add(G.key),Se());let V,M;return y.persistence.runTransaction("Locally write mutations","readwrite",z=>{let G=vr(),Y=Se();return y.hs.getEntries(z,T).next(H=>{G=H,G.forEach((ve,ee)=>{ee.isValidDocument()||(Y=Y.add(ve))})}).next(()=>y.localDocuments.getOverlayedDocuments(z,G)).next(H=>{V=H;const ve=[];for(const ee of m){const fe=vE(ee,V.get(ee.key).overlayedDocument);fe!=null&&ve.push(new ii(ee.key,fe,ag(fe.value.mapValue),xn.exists(!0)))}return y.mutationQueue.addMutationBatch(z,v,ve,m)}).next(H=>{M=H;const ve=H.applyToLocalDocumentSet(V,Y);return y.documentOverlayCache.saveOverlays(z,H.batchId,ve)})}).then(()=>({batchId:M.batchId,changes:_g(V)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(d,m,y){let v=d.qa[d.currentUser.toKey()];v||(v=new Ye(Re)),v=v.insert(m,y),d.qa[d.currentUser.toKey()]=v}(s,a.batchId,n),await da(s,a.changes),await gu(s.remoteStore)}catch(a){const c=nd(a,"Failed to persist write");n.reject(c)}}async function Yg(i,e){const n=ye(i);try{const s=await mw(n.localStore,e);e.targetChanges.forEach((a,c)=>{const d=n.Ba.get(c);d&&(Oe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?d.Fa=!0:a.modifiedDocuments.size>0?Oe(d.Fa):a.removedDocuments.size>0&&(Oe(d.Fa),d.Fa=!1))}),await da(n,s,e)}catch(s){await Qs(s)}}function Tm(i,e,n){const s=ye(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,d)=>{const m=d.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(d,m){const y=ye(d);y.onlineState=m;let v=!1;y.queries.forEach((T,V)=>{for(const M of V.J_)M.ea(m)&&(v=!0)}),v&&rd(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function i1(i,e,n){const s=ye(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let d=new Ye(de.comparator);d=d.insert(c,Ot.newNoDocument(c,ge.min()));const m=Se().add(c),y=new fu(ge.min(),new Map,new Ye(Re),d,m);await Yg(s,y),s.La=s.La.remove(c),s.Ba.delete(e),id(s)}else await Ch(s.localStore,e,!1).then(()=>kh(s,e,n)).catch(Qs)}async function s1(i,e){const n=ye(i),s=e.batch.batchId;try{const a=await pw(n.localStore,e);Zg(n,s,null),Jg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await da(n,a)}catch(a){await Qs(a)}}async function o1(i,e,n){const s=ye(i);try{const a=await function(d,m){const y=ye(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let T;return y.mutationQueue.lookupMutationBatch(v,m).next(V=>(Oe(V!==null),T=V.keys(),y.mutationQueue.removeMutationBatch(v,V))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,T,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T)).next(()=>y.localDocuments.getDocuments(v,T))})}(s.localStore,e);Zg(s,e,n),Jg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await da(s,a)}catch(a){await Qs(a)}}function Jg(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function Zg(i,e,n){const s=ye(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function kh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||ey(i,s)})}function ey(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(Yh(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),id(i))}function Im(i,e,n){for(const s of n)s instanceof Qg?(i.ka.addReference(s.key,e),a1(i,s)):s instanceof Gg?(ne("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||ey(i,s.key)):me()}function a1(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(ne("SyncEngine","New document in limbo: "+n),i.Na.add(s),id(i))}function id(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new de(Qe.fromString(e)),s=i.Ka.next();i.Ba.set(s,new Xw(n)),i.La=i.La.insert(n,s),jg(i.remoteStore,new Hr(Wn(pg(n.path)),s,"TargetPurposeLimboResolution",su.oe))}}async function da(i,e,n){const s=ye(i),a=[],c=[],d=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{d.push(s.Ua(y,e,n).then(v=>{var T;if((v||n)&&s.isPrimaryClient){const V=v?!v.fromCache:(T=n==null?void 0:n.targetChanges.get(y.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(y.targetId,V?"current":"not-current")}if(v){a.push(v);const V=Xh.zi(y.targetId,v);c.push(V)}}))}),await Promise.all(d),s.Ma.R_(a),await async function(y,v){const T=ye(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>B.forEach(v,M=>B.forEach(M.Wi,z=>T.persistence.referenceDelegate.addReference(V,M.targetId,z)).next(()=>B.forEach(M.Gi,z=>T.persistence.referenceDelegate.removeReference(V,M.targetId,z)))))}catch(V){if(!Gs(V))throw V;ne("LocalStore","Failed to update sequence numbers: "+V)}for(const V of v){const M=V.targetId;if(!V.fromCache){const z=T.us.get(M),G=z.snapshotVersion,Y=z.withLastLimboFreeSnapshotVersion(G);T.us=T.us.insert(M,Y)}}}(s.localStore,c))}async function l1(i,e){const n=ye(i);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const s=await Ug(n.localStore,e);n.currentUser=e,function(c,d){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new le(W.CANCELLED,d))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await da(n,s.Ts)}}function u1(i,e){const n=ye(i),s=n.Ba.get(e);if(s&&s.Fa)return Se().add(s.key);{let a=Se();const c=n.Oa.get(e);if(!c)return a;for(const d of c){const m=n.xa.get(d);a=a.unionWith(m.view.fa)}return a}}function ty(i){const e=ye(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i1.bind(null,e),e.Ma.R_=Hw.bind(null,e.eventManager),e.Ma.Wa=Ww.bind(null,e.eventManager),e}function c1(i){const e=ye(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o1.bind(null,e),e}class eu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return fw(this.persistence,new hw,e.initialUser,this.serializer)}ja(e){return new Fg(Gh.ei,this.serializer)}za(e){return new Ew}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eu.provider={build:()=>new eu};class h1 extends eu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Oe(this.persistence.referenceDelegate instanceof Jl);const s=this.persistence.referenceDelegate.garbageCollector;return new XE(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new Fg(s=>Jl.ei(s,n),this.serializer)}}class Vh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Tm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=l1.bind(null,this.syncEngine),await zw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jw}()}createDatastore(e){const n=pu(e.databaseInfo.databaseId),s=function(c){return new Sw(c)}(e.databaseInfo);return function(c,d,m,y){return new Cw(c,d,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,d,m){return new kw(s,a,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Tm(this.syncEngine,n,0),function(){return ym.p()?new ym:new ww}())}createSyncEngine(e,n){return function(a,c,d,m,y,v,T){const V=new Yw(a,c,d,m,y,v);return T&&(V.$a=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=ye(a);ne("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ha(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vh.provider={build:()=>new Vh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ne("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ne("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=nd(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function lh(i,e){i.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Ug(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Sm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await p1(i);ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>_m(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>_m(e.remoteStore,a)),i._onlineComponents=e}async function p1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await lh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===W.FAILED_PRECONDITION||a.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),await lh(i,new eu)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await lh(i,new h1(void 0));return i._offlineComponents}async function ny(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await Sm(i,i._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await Sm(i,new Vh))),i._onlineComponents}function m1(i){return ny(i).then(e=>e.syncEngine)}async function g1(i){const e=await ny(i),n=e.eventManager;return n.onListen=Jw.bind(null,e.syncEngine),n.onUnlisten=t1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Zw.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n1.bind(null,e.syncEngine),n}function y1(i,e,n={}){const s=new Qr;return i.asyncQueue.enqueueAndForget(async()=>function(c,d,m,y,v){const T=new d1({next:M=>{T.eu(),d.enqueueAndForget(()=>qw(c,V)),M.fromCache&&y.source==="server"?v.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),V=new Kw(m,T,{includeMetadataChanges:!0,ua:!0});return $w(c,V)}(await g1(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(i,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function _1(i,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Rm(i){if(!de.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Cm(i){if(de.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function sd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":me()}function Ui(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sd(i);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ry((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new A0;switch(s.type){case"firstParty":return new k0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Am.get(n);s&&(ne("ComponentProvider","Removing Datastore"),Am.delete(n),s.terminate())}(this),Promise.resolve()}}function v1(i,e,n,s={}){var a;const c=(i=Ui(i,yu))._getSettings(),d=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==d&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Lt.MOCK_USER;else{m=sv(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Lt(v)}i._authCredentials=new R0(new rg(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _u(this.firestore,e,this._query)}}class yn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Gr extends _u{constructor(e,n,s){super(e,n,pg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new de(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function km(i,e,...n){if(i=Qn(i),iy("collection","path",e),i instanceof yu){const s=Qe.fromString(e,...n);return Cm(s),new Gr(i,null,s)}{if(!(i instanceof yn||i instanceof Gr))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return Cm(s),new Gr(i.firestore,null,s)}}function Dh(i,e,...n){if(i=Qn(i),arguments.length===1&&(e=ig.newId()),iy("doc","path",e),i instanceof yu){const s=Qe.fromString(e,...n);return Rm(s),new yn(i,null,new de(s))}{if(!(i instanceof yn||i instanceof Gr))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return Rm(s),new yn(i.firestore,i instanceof Gr?i.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new zg(this,"async_queue_retry"),this.fu=()=>{const s=ah();s&&ne("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=ah();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Qr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Gs(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(s);throw _r("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=td.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&me()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class fa extends yu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Vm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vm(e),this._firestoreClient=void 0,await e}}}function E1(i,e){const n=typeof i=="object"?i:Qm(),s=typeof i=="string"?i:"(default)",a=la(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=rv("firestore");c&&v1(a,...c)}return a}function sy(i){if(i._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||w1(i),i._firestoreClient}function w1(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,v,T){return new q0(m,y,v,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,ry(T.experimentalLongPollingOptions),T.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new f1(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(Rt.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=/^__.*__$/;class I1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new ua(e,this.data,n,this.fieldTransforms)}}class oy{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ay(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class ud{constructor(e,n,s,a,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ud(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return tu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(ay(this.Mu)&&T1.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class S1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||pu(e)}$u(e,n,s,a=!1){return new ud({Mu:e,methodName:n,Ku:s,path:At.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ly(i){const e=i._freezeSettings(),n=pu(i._databaseId);return new S1(i._databaseId,!!e.ignoreUndefinedProperties,n)}function A1(i,e,n,s,a,c={}){const d=i.$u(c.merge||c.mergeFields?2:0,e,n,a);cd("Data must be an object, but it was:",d,s);const m=uy(s,d);let y,v;if(c.merge)y=new sn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const V of c.mergeFields){const M=Nh(e,V,n);if(!d.contains(M))throw new le(W.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);hy(T,M)||T.push(M)}y=new sn(T),v=d.fieldTransforms.filter(V=>y.covers(V.field))}else y=null,v=d.fieldTransforms;return new I1(new Gt(m),y,v)}class Eu extends od{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eu}}function R1(i,e,n,s){const a=i.$u(1,e,n);cd("Data must be an object, but it was:",a,s);const c=[],d=Gt.empty();ri(s,(y,v)=>{const T=hd(e,y,n);v=Qn(v);const V=a.Bu(T);if(v instanceof Eu)c.push(T);else{const M=wu(v,V);M!=null&&(c.push(T),d.set(T,M))}});const m=new sn(c);return new oy(d,m,a.fieldTransforms)}function C1(i,e,n,s,a,c){const d=i.$u(1,e,n),m=[Nh(e,s,n)],y=[a];if(c.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)m.push(Nh(e,c[M])),y.push(c[M+1]);const v=[],T=Gt.empty();for(let M=m.length-1;M>=0;--M)if(!hy(v,m[M])){const z=m[M];let G=y[M];G=Qn(G);const Y=d.Bu(z);if(G instanceof Eu)v.push(z);else{const H=wu(G,Y);H!=null&&(v.push(z),T.set(z,H))}}const V=new sn(v);return new oy(T,V,d.fieldTransforms)}function wu(i,e){if(cy(i=Qn(i)))return cd("Unsupported field value:",e,i),uy(i,e);if(i instanceof od)return function(s,a){if(!ay(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let d=0;for(const m of s){let y=wu(m,a.ku(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Qn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fE(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=dt.fromDate(s);return{timestampValue:Yl(a.serializer,c)}}if(s instanceof dt){const c=new dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yl(a.serializer,c)}}if(s instanceof ad)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ws)return{bytesValue:Vg(a.serializer,s._byteString)};if(s instanceof yn){const c=a.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw a.qu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Kh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ld)return function(d,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.qu("VectorValues must only contain numeric values.");return $h(m.serializer,y)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${sd(s)}`)}(i,e)}function uy(i,e){const n={};return sg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ri(i,(s,a)=>{const c=wu(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function cy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof dt||i instanceof ad||i instanceof Ws||i instanceof yn||i instanceof od||i instanceof ld)}function cd(i,e,n){if(!cy(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=sd(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function Nh(i,e,n){if((e=Qn(e))instanceof vu)return e._internalPath;if(typeof e=="string")return hd(i,e);throw tu("Field path arguments must be of type string or ",i,!1,void 0,n)}const P1=new RegExp("[~\\*/\\[\\]]");function hd(i,e,n){if(e.search(P1)>=0)throw tu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new vu(...e.split("."))._internalPath}catch{throw tu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function tu(i,e,n,s,a){const c=s&&!s.isEmpty(),d=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${a}`),y+=")"),new le(W.INVALID_ARGUMENT,m+i+y)}function hy(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k1 extends dy{data(){return super.data()}}function fy(i,e){return typeof e=="string"?hd(i,e):e instanceof vu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D1{convertValue(e,n="none"){switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ri(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(d=>nt(d.doubleValue));return new ld(c)}convertGeoPoint(e){return new ad(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=au(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ra(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Qe.fromString(e);Oe(Mg(s));const a=new ia(s.get(1),s.get(3)),c=new de(s.popFirst(5));return a.isEqual(n)||_r(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class x1 extends dy{constructor(e,n,s,a,c,d){super(e,n,s,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(fy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class jl extends x1{data(e={}){return super.data(e)}}class L1{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ol(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new jl(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map(m=>{const y=new jl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ol(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new jl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ol(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,T=-1;return m.type!==0&&(v=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),T=d.indexOf(m.doc.key)),{type:O1(m.type),doc:y,oldIndex:v,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function O1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class M1 extends D1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function F1(i){i=Ui(i,_u);const e=Ui(i.firestore,fa),n=sy(e),s=new M1(e);return V1(i._query),y1(n,i._query).then(a=>new L1(e,s,i,a))}function U1(i,e,n,...s){i=Ui(i,yn);const a=Ui(i.firestore,fa),c=ly(a);let d;return d=typeof(e=Qn(e))=="string"||e instanceof vu?C1(c,"updateDoc",i._key,e,n,s):R1(c,"updateDoc",i._key,e),dd(a,[d.toMutation(i._key,xn.exists(!0))])}function b1(i){return dd(Ui(i.firestore,fa),[new qh(i._key,xn.none())])}function z1(i,e){const n=Ui(i.firestore,fa),s=Dh(i),a=N1(i.converter,e);return dd(n,[A1(ly(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,xn.exists(!1))]).then(()=>s)}function dd(i,e){return function(s,a){const c=new Qr;return s.asyncQueue.enqueueAndForget(async()=>r1(await m1(s),a,c)),c.promise}(sy(i),e)}(function(e,n=!0){(function(a){Ks=a})(m0),Xr(new gr("firestore",(s,{instanceIdentifier:a,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new fa(new C0(s.getProvider("auth-internal")),new D0(s.getProvider("app-check-internal")),function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ia(v.options.projectId,T)}(d,a),d);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Hn(Wp,"4.7.5",e),Hn(Wp,"4.7.5","esm2017")})();var B1="firebase",j1="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(B1,j1,"app");const py="@firebase/installations",fd="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=1e4,gy=`w:${fd}`,yy="FIS_v2",$1="https://firebaseinstallations.googleapis.com/v1",q1=60*60*1e3,H1="installations",W1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bi=new iu(H1,W1,K1);function _y(i){return i instanceof ni&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy({projectId:i}){return`${$1}/projects/${i}/installations`}function Ey(i){return{token:i.token,requestStatus:2,expiresIn:G1(i.expiresIn),creationTime:Date.now()}}async function wy(i,e){const s=(await e.json()).error;return bi.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Ty({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function Q1(i,{refreshToken:e}){const n=Ty(i);return n.append("Authorization",X1(e)),n}async function Iy(i){const e=await i();return e.status>=500&&e.status<600?i():e}function G1(i){return Number(i.replace("s","000"))}function X1(i){return`${yy} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=vy(i),a=Ty(i),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const d={fid:n,authVersion:yy,appId:i.appId,sdkVersion:gy},m={method:"POST",headers:a,body:JSON.stringify(d)},y=await Iy(()=>fetch(s,m));if(y.ok){const v=await y.json();return{fid:v.fid||n,registrationStatus:2,refreshToken:v.refreshToken,authToken:Ey(v.authToken)}}else throw await wy("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=/^[cdef][\w-]{21}$/,xh="";function eT(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=tT(i);return Z1.test(n)?n:xh}catch{return xh}}function tT(i){return J1(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=new Map;function Ry(i,e){const n=Tu(i);Cy(n,e),nT(n,e)}function Cy(i,e){const n=Ay.get(i);if(n)for(const s of n)s(e)}function nT(i,e){const n=rT();n&&n.postMessage({key:i,fid:e}),iT()}let Oi=null;function rT(){return!Oi&&"BroadcastChannel"in self&&(Oi=new BroadcastChannel("[Firebase] FID Change"),Oi.onmessage=i=>{Cy(i.data.key,i.data.fid)}),Oi}function iT(){Ay.size===0&&Oi&&(Oi.close(),Oi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firebase-installations-database",oT=1,zi="firebase-installations-store";let uh=null;function pd(){return uh||(uh=Wm(sT,oT,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(zi)}}})),uh}async function nu(i,e){const n=Tu(i),a=(await pd()).transaction(zi,"readwrite"),c=a.objectStore(zi),d=await c.get(n);return await c.put(e,n),await a.done,(!d||d.fid!==e.fid)&&Ry(i,e.fid),e}async function Py(i){const e=Tu(i),s=(await pd()).transaction(zi,"readwrite");await s.objectStore(zi).delete(e),await s.done}async function Iu(i,e){const n=Tu(i),a=(await pd()).transaction(zi,"readwrite"),c=a.objectStore(zi),d=await c.get(n),m=e(d);return m===void 0?await c.delete(n):await c.put(m,n),await a.done,m&&(!d||d.fid!==m.fid)&&Ry(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(i){let e;const n=await Iu(i.appConfig,s=>{const a=aT(s),c=lT(i,a);return e=c.registrationPromise,c.installationEntry});return n.fid===xh?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function aT(i){const e=i||{fid:eT(),registrationStatus:0};return ky(e)}function lT(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(bi.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=uT(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:cT(i)}:{installationEntry:e}}async function uT(i,e){try{const n=await Y1(i,e);return nu(i.appConfig,n)}catch(n){throw _y(n)&&n.customData.serverCode===409?await Py(i.appConfig):await nu(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function cT(i){let e=await Dm(i.appConfig);for(;e.registrationStatus===1;)await Sy(100),e=await Dm(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await md(i);return s||n}return e}function Dm(i){return Iu(i,e=>{if(!e)throw bi.create("installation-not-found");return ky(e)})}function ky(i){return hT(i)?{fid:i.fid,registrationStatus:0}:i}function hT(i){return i.registrationStatus===1&&i.registrationTime+my<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dT({appConfig:i,heartbeatServiceProvider:e},n){const s=fT(i,n),a=Q1(i,n),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const d={installation:{sdkVersion:gy,appId:i.appId}},m={method:"POST",headers:a,body:JSON.stringify(d)},y=await Iy(()=>fetch(s,m));if(y.ok){const v=await y.json();return Ey(v)}else throw await wy("Generate Auth Token",y)}function fT(i,{fid:e}){return`${vy(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(i,e=!1){let n;const s=await Iu(i.appConfig,c=>{if(!Vy(c))throw bi.create("not-registered");const d=c.authToken;if(!e&&gT(d))return c;if(d.requestStatus===1)return n=pT(i,e),c;{if(!navigator.onLine)throw bi.create("app-offline");const m=_T(c);return n=mT(i,m),m}});return n?await n:s.authToken}async function pT(i,e){let n=await Nm(i.appConfig);for(;n.authToken.requestStatus===1;)await Sy(100),n=await Nm(i.appConfig);const s=n.authToken;return s.requestStatus===0?gd(i,e):s}function Nm(i){return Iu(i,e=>{if(!Vy(e))throw bi.create("not-registered");const n=e.authToken;return vT(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function mT(i,e){try{const n=await dT(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await nu(i.appConfig,s),n}catch(n){if(_y(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Py(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await nu(i.appConfig,s)}throw n}}function Vy(i){return i!==void 0&&i.registrationStatus===2}function gT(i){return i.requestStatus===2&&!yT(i)}function yT(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+q1}function _T(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function vT(i){return i.requestStatus===1&&i.requestTime+my<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ET(i){const e=i,{installationEntry:n,registrationPromise:s}=await md(e);return s?s.catch(console.error):gd(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(i,e=!1){const n=i;return await TT(n),(await gd(n,e)).token}async function TT(i){const{registrationPromise:e}=await md(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(i){if(!i||!i.options)throw ch("App Configuration");if(!i.name)throw ch("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw ch(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function ch(i){return bi.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="installations",ST="installations-internal",AT=i=>{const e=i.getProvider("app").getImmediate(),n=IT(e),s=la(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},RT=i=>{const e=i.getProvider("app").getImmediate(),n=la(e,Dy).getImmediate();return{getId:()=>ET(n),getToken:a=>wT(n,a)}};function CT(){Xr(new gr(Dy,AT,"PUBLIC")),Xr(new gr(ST,RT,"PRIVATE"))}CT();Hn(py,fd);Hn(py,fd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="analytics",PT="firebase_id",kT="origin",VT=60*1e3,DT="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt=new Mh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},on=new iu("analytics","Analytics",NT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(i){if(!i.startsWith(yd)){const e=on.create("invalid-gtag-resource",{gtagURL:i});return Xt.warn(e.message),""}return i}function Ny(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function LT(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function OT(i,e){const n=LT("firebase-js-sdk-policy",{createScriptURL:xT}),s=document.createElement("script"),a=`${yd}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function MT(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function FT(i,e,n,s,a,c){const d=s[a];try{if(d)await e[d];else{const y=(await Ny(n)).find(v=>v.measurementId===a);y&&await e[y.appId]}}catch(m){Xt.error(m)}i("config",a,c)}async function UT(i,e,n,s,a){try{let c=[];if(a&&a.send_to){let d=a.send_to;Array.isArray(d)||(d=[d]);const m=await Ny(n);for(const y of d){const v=m.find(V=>V.measurementId===y),T=v&&e[v.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",s,a||{})}catch(c){Xt.error(c)}}function bT(i,e,n,s){async function a(c,...d){try{if(c==="event"){const[m,y]=d;await UT(i,e,n,m,y)}else if(c==="config"){const[m,y]=d;await FT(i,e,n,s,m,y)}else if(c==="consent"){const[m,y]=d;i("consent",m,y)}else if(c==="get"){const[m,y,v]=d;i("get",m,y,v)}else if(c==="set"){const[m]=d;i("set",m)}else i(c,...d)}catch(m){Xt.error(m)}}return a}function zT(i,e,n,s,a){let c=function(...d){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(c=window[a]),window[a]=bT(c,i,e,n),{gtagCore:c,wrappedGtag:window[a]}}function BT(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(yd)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=30,$T=1e3;class qT{constructor(e={},n=$T){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xy=new qT;function HT(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function WT(i){var e;const{appId:n,apiKey:s}=i,a={method:"GET",headers:HT(s)},c=DT.replace("{app-id}",n),d=await fetch(c,a);if(d.status!==200&&d.status!==304){let m="";try{const y=await d.json();!((e=y.error)===null||e===void 0)&&e.message&&(m=y.error.message)}catch{}throw on.create("config-fetch-failed",{httpStatus:d.status,responseMessage:m})}return d.json()}async function KT(i,e=xy,n){const{appId:s,apiKey:a,measurementId:c}=i.options;if(!s)throw on.create("no-app-id");if(!a){if(c)return{measurementId:c,appId:s};throw on.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new XT;return setTimeout(async()=>{m.abort()},VT),Ly({appId:s,apiKey:a,measurementId:c},d,m,e)}async function Ly(i,{throttleEndTimeMillis:e,backoffCount:n},s,a=xy){var c;const{appId:d,measurementId:m}=i;try{await QT(s,e)}catch(y){if(m)return Xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:m};throw y}try{const y=await WT(i);return a.deleteThrottleMetadata(d),y}catch(y){const v=y;if(!GT(v)){if(a.deleteThrottleMetadata(d),m)return Xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:m};throw y}const T=Number((c=v==null?void 0:v.customData)===null||c===void 0?void 0:c.httpStatus)===503?Mp(n,a.intervalMillis,jT):Mp(n,a.intervalMillis),V={throttleEndTimeMillis:Date.now()+T,backoffCount:n+1};return a.setThrottleMetadata(d,V),Xt.debug(`Calling attemptFetch again in ${T} millis`),Ly(i,V,s,a)}}function QT(i,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),c=setTimeout(n,a);i.addEventListener(()=>{clearTimeout(c),s(on.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function GT(i){if(!(i instanceof ni)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class XT{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function YT(i,e,n,s,a){if(a&&a.global){i("event",n,s);return}else{const c=await e,d=Object.assign(Object.assign({},s),{send_to:c});i("event",n,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(){if(jm())try{await $m()}catch(i){return Xt.warn(on.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Xt.warn(on.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZT(i,e,n,s,a,c,d){var m;const y=KT(i);y.then(z=>{n[z.measurementId]=z.appId,i.options.measurementId&&z.measurementId!==i.options.measurementId&&Xt.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${z.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(z=>Xt.error(z)),e.push(y);const v=JT().then(z=>{if(z)return s.getId()}),[T,V]=await Promise.all([y,v]);BT(c)||OT(c,T.measurementId),a("js",new Date);const M=(m=d==null?void 0:d.config)!==null&&m!==void 0?m:{};return M[kT]="firebase",M.update=!0,V!=null&&(M[PT]=V),a("config",T.measurementId,M),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.app=e}_delete(){return delete ea[this.app.options.appId],Promise.resolve()}}let ea={},xm=[];const Lm={};let hh="dataLayer",tI="gtag",Om,Oy,Mm=!1;function nI(){const i=[];if(lv()&&i.push("This is a browser extension environment."),cv()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=on.create("invalid-analytics-context",{errorInfo:e});Xt.warn(n.message)}}function rI(i,e,n){nI();const s=i.options.appId;if(!s)throw on.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw on.create("no-api-key");if(ea[s]!=null)throw on.create("already-exists",{id:s});if(!Mm){MT(hh);const{wrappedGtag:c,gtagCore:d}=zT(ea,xm,Lm,hh,tI);Oy=c,Om=d,Mm=!0}return ea[s]=ZT(i,xm,Lm,e,Om,hh,n),new eI(i)}function iI(i=Qm()){i=Qn(i);const e=la(i,ru);return e.isInitialized()?e.getImmediate():sI(i)}function sI(i,e={}){const n=la(i,ru);if(n.isInitialized()){const a=n.getImmediate();if(ql(e,n.getOptions()))return a;throw on.create("already-initialized")}return n.initialize({options:e})}function oI(i,e,n,s){i=Qn(i),YT(Oy,ea[i.app.options.appId],e,n,s).catch(a=>Xt.error(a))}const Fm="@firebase/analytics",Um="0.10.10";function aI(){Xr(new gr(ru,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return rI(s,a,n)},"PUBLIC")),Xr(new gr("analytics-internal",i,"PRIVATE")),Hn(Fm,Um),Hn(Fm,Um,"esm2017");function i(e){try{const n=e.getProvider(ru).getImmediate();return{logEvent:(s,a,c)=>oI(n,s,a,c)}}catch(n){throw on.create("interop-component-reg-failed",{reason:n})}}}aI();const lI={apiKey:"AIzaSyBFh3QI_rukpYHwD5yT0-_nHcSxu9XVxJQ",authDomain:"transactionlist-6398a.firebaseapp.com",databaseURL:"https://transactionlist-6398a-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"transactionlist-6398a",storageBucket:"transactionlist-6398a.appspot.com",messagingSenderId:"95401428926",appId:"1:95401428926:web:5df75ba151e5d9a3a9dbef",measurementId:"G-TYNMHLB9RG"};console.log("Project ID:","transactionlist-6398a");const My=Km(lI);iI(My);const Ml=E1(My),uI=()=>{const[i,e]=mr.useState([]),[n,s]=mr.useState(""),[a,c]=mr.useState(""),[d,m]=mr.useState("Income"),[y,v]=mr.useState(null),[T,V]=mr.useState(0),[M,z]=mr.useState(""),G=async()=>{const Ee=(await F1(km(Ml,"transactions"))).docs.map(_e=>({id:_e.id,..._e.data()})).sort((_e,k)=>new Date(k.date)-new Date(_e.date));e(Ee);const je=Ee.reduce((_e,k)=>k.type==="Income"?_e+k.amount:_e-k.amount,0);V(je)};mr.useEffect(()=>{G()},[]);const Y=async()=>{if(!n||!a){z("Amount and description are required!");return}const ee=parseFloat(n);if(d==="Expense"&&ee>T||ee==0){ee==0?z("Cannot credit 0 amount"):z("Insufficient balance to update this expense!");return}const fe={amount:ee,description:a,type:d,date:new Date().toISOString()};await z1(km(Ml,"transactions"),fe),G(),s(""),c(""),m("Income"),z("")},H=async ee=>{if(!n||!a){z("Amount and description are required!");return}const fe=parseFloat(n);if(d==="Expense"&&fe>T||d==="Expense"&&fe==0){fe==0&&z("Cannot credit 0 amount"),z("Insufficient balance to update this expense!");return}const Ee={amount:fe,description:a,type:d},je=Dh(Ml,"transactions",ee);await U1(je,Ee),G(),v(null),s(""),c(""),m("Income"),z("")},ve=async ee=>{await b1(Dh(Ml,"transactions",ee)),G()};return Ke.jsxs("div",{className:"min-h-screen bg-gray-100 p-8",children:[Ke.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"Transaction Manager"}),Ke.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 max-w-xl mx-auto",children:[Ke.jsx("div",{className:"mb-6",children:Ke.jsxs("h2",{className:"text-2xl font-semibold",children:["Balance: $",T.toFixed(2)]})}),M&&Ke.jsx("p",{className:"text-red-500 text-sm mb-4 font-medium",children:M}),Ke.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[Ke.jsx("input",{type:"number",placeholder:"Amount",value:n,onChange:ee=>s(ee.target.value),className:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),Ke.jsx("input",{type:"text",placeholder:"Description",value:a,onChange:ee=>c(ee.target.value),className:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),Ke.jsxs("select",{value:d,onChange:ee=>m(ee.target.value),className:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[Ke.jsx("option",{value:"Income",children:"Income"}),Ke.jsx("option",{value:"Expense",children:"Expense"})]}),y?Ke.jsx("button",{onClick:()=>H(y),className:"p-3 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Update"}):Ke.jsx("button",{onClick:Y,className:"p-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Add"})]}),Ke.jsx("div",{className:"space-y-4",children:i.map(ee=>Ke.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg shadow-sm",children:[Ke.jsxs("div",{children:[Ke.jsxs("p",{className:"text-lg font-medium",children:["$",ee.amount," - ",ee.description]}),Ke.jsxs("p",{className:`text-sm ${ee.type==="Income"?"text-green-500":"text-red-500"}`,children:[ee.type," - ",new Date(ee.date).toLocaleDateString()," ",new Date(ee.date).toLocaleTimeString()," "]})]}),Ke.jsxs("div",{className:"flex gap-2",children:[Ke.jsx("button",{onClick:()=>{v(ee.id),s(ee.amount),c(ee.description),m(ee.type)},className:"px-4 py-2 bg-yellow-400 text-white rounded-lg hover:bg-yellow-500",children:"Edit"}),Ke.jsx("button",{onClick:()=>ve(ee.id),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Delete"})]})]},ee.id))})]})]})};K_.createRoot(document.getElementById("root")).render(Ke.jsx(mr.StrictMode,{children:Ke.jsx(uI,{})}));
